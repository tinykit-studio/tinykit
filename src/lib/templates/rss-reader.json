{
	"id": "rss-reader",
	"name": "News Reader",
	"description": "Subscribe to and read your favorite RSS feeds in one place",
	"preview": "ph:newspaper-duotone",
	"tags": [
		"news",
		"intermediate",
		"api",
		"database"
	],
	"kits": [
		"feeds"
	],
	"frontend_code": "<script>\n\timport { proxy } from \"$tinykit\";\n\timport { onMount, tick } from \"svelte\";\n\timport { fade, scale } from \"svelte/transition\";\n\timport Icon from \"@iconify/svelte\";\n\timport { Readability } from \"@mozilla/readability\";\n\timport content from \"$content\";\n\timport data from \"$data\";\n\n\t// Feeds from database\n\tlet db_feeds = $state([]);\n\tlet feeds_loading = $state(true);\n\n\t// Feed data (items loaded from RSS)\n\tlet feedData = $state([]);\n\n\t// Search state\n\tlet searchQuery = $state(\"\");\n\tlet searchResults = $state([]);\n\tlet searching = $state(false);\n\tlet showSearch = $state(false);\n\tlet search_el = $state();\n\n\t// Article dialog state\n\tlet articleOpen = $state(false);\n\tlet articleLoading = $state(false);\n\tlet articleError = $state(null);\n\tlet articleData = $state(null);\n\n\t// Subscribe to feeds collection\n\tdata.feeds.subscribe((items) => {\n\t\t\tdb_feeds = items.sort((a, b) => (a.order ?? 999) - (b.order ?? 999));\n\t\tfeeds_loading = false;\n\n\t\t// Initialize feedData for new feeds\n\t\tfeedData = db_feeds.map((f) => ({\n\t\t\t...f,\n\t\t\titems: [],\n\t\t\tloading: true,\n\t\t\terror: null,\n\t\t}));\n\n\t\t// Fetch all feeds\n\t\tdb_feeds.forEach((feed, i) => fetchFeed(feed, i));\n\t});\n\n\tasync function searchFeeds() {\n\t\tif (!searchQuery.trim()) return;\n\t\tsearching = true;\n\t\ttry {\n\t\t\tconst res = await proxy.json(\n\t\t\t\t`https://cloud.feedly.com/v3/search/feeds?query=${encodeURIComponent(searchQuery)}`\n\t\t\t);\n\t\t\tsearchResults = (res.results || []).slice(0, 10).map((r) => ({\n\t\t\t\tname: r.title,\n\t\t\t\turl: r.feedId?.replace(\"feed/\", \"\") || r.website,\n\t\t\t\tsubscribers: r.subscribers,\n\t\t\t}));\n\t\t} catch (e) {\n\t\t\tsearchResults = [];\n\t\t}\n\t\tsearching = false;\n\t}\n\n\tasync function addFeed(result) {\n\t\tif (db_feeds.some((f) => f.url === result.url)) return;\n\n\t\ttry {\n\t\t\tawait data.feeds.create({\n\t\t\t\tname: result.name,\n\t\t\t\turl: result.url,\n\t\t\t\torder: db_feeds.length,\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to add feed:\", e);\n\t\t}\n\n\t\tshowSearch = false;\n\t\tsearchQuery = \"\";\n\t\tsearchResults = [];\n\t}\n\n\tasync function removeFeed(feed) {\n\t\ttry {\n\t\t\tawait data.feeds.delete(feed.id);\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to remove feed:\", e);\n\t\t}\n\t}\n\n\tfunction parseRSS(xml) {\n\t\tconst doc = new DOMParser().parseFromString(xml, \"text/xml\");\n\n\t\t// Handle both RSS and Atom formats\n\t\tconst isAtom = doc.querySelector(\"feed\") !== null;\n\n\t\tif (isAtom) {\n\t\t\treturn [...doc.querySelectorAll(\"entry\")].map((entry) => ({\n\t\t\t\ttitle: entry.querySelector(\"title\")?.textContent?.trim(),\n\t\t\t\thref: entry.querySelector(\"link\")?.getAttribute(\"href\"),\n\t\t\t\tdate: entry.querySelector(\"published, updated\")?.textContent,\n\t\t\t}));\n\t\t} else {\n\t\t\treturn [...doc.querySelectorAll(\"item\")].map((item) => ({\n\t\t\t\ttitle: item.querySelector(\"title\")?.textContent?.trim(),\n\t\t\t\thref: item.querySelector(\"link\")?.textContent?.trim(),\n\t\t\t\tdate: item.querySelector(\"pubDate\")?.textContent,\n\t\t\t}));\n\t\t}\n\t}\n\n\tasync function fetchFeed(feed, index) {\n\t\ttry {\n\t\t\tconst xml = await proxy.text(feed.url);\n\t\t\tconst items = parseRSS(xml)\n\t\t\t\t.filter((i) => i.title && i.href)\n\t\t\t\t.slice(0, 20);\n\t\t\tif (feedData[index]) {\n\t\t\t\tfeedData[index] = { ...feedData[index], items, loading: false };\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tif (feedData[index]) {\n\t\t\t\tfeedData[index] = {\n\t\t\t\t\t...feedData[index],\n\t\t\t\t\terror: e.message,\n\t\t\t\t\tloading: false,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction refresh(index) {\n\t\tif (feedData[index]) {\n\t\t\tfeedData[index] = { ...feedData[index], loading: true, error: null };\n\t\t\tfetchFeed(db_feeds[index], index);\n\t\t}\n\t}\n\n\tfunction refreshAll() {\n\t\tdb_feeds.forEach((feed, i) => refresh(i));\n\t}\n\n\tasync function openArticle(item, e) {\n\t\te.preventDefault();\n\t\tarticleOpen = true;\n\t\tarticleLoading = true;\n\t\tarticleError = null;\n\t\tarticleData = { title: item.title, href: item.href };\n\n\t\ttry {\n\t\t\tconst html = await proxy.text(item.href);\n\t\t\tconst doc = new DOMParser().parseFromString(html, \"text/html\");\n\n\t\t\t// Fix relative URLs\n\t\t\tconst base = new URL(item.href);\n\t\t\tdoc.querySelectorAll(\"img[src]\").forEach((img) => {\n\t\t\t\tconst src = img.getAttribute(\"src\");\n\t\t\t\tif (src && !src.startsWith(\"http\")) {\n\t\t\t\t\timg.setAttribute(\"src\", new URL(src, base).href);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdoc.querySelectorAll(\"a[href]\").forEach((a) => {\n\t\t\t\tconst href = a.getAttribute(\"href\");\n\t\t\t\tif (href && !href.startsWith(\"http\") && !href.startsWith(\"#\")) {\n\t\t\t\t\ta.setAttribute(\"href\", new URL(href, base).href);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst reader = new Readability(doc);\n\t\t\tconst article = reader.parse();\n\n\t\t\tif (article) {\n\t\t\t\tarticleData = {\n\t\t\t\t\ttitle: article.title || item.title,\n\t\t\t\t\tbyline: article.byline,\n\t\t\t\t\tsiteName: article.siteName,\n\t\t\t\t\tcontent: article.content,\n\t\t\t\t\thref: item.href,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tarticleError = \"Could not parse article\";\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tarticleError = e.message;\n\t\t}\n\n\t\tarticleLoading = false;\n\t}\n\n\tfunction closeArticle() {\n\t\tarticleOpen = false;\n\t\tarticleData = null;\n\t\tarticleError = null;\n\t}\n\n\tfunction handleBackdropClick(e) {\n\t\tif (e.target === e.currentTarget) {\n\t\t\tcloseArticle();\n\t\t}\n\t}\n\n\tfunction handleKeydown(e) {\n\t\tif (e.key === \"Escape\" && articleOpen) {\n\t\t\tcloseArticle();\n\t\t}\n\t}\n</script>\n\n<svelte:window onkeydown={handleKeydown} />\n\n<div class=\"dashboard\">\n\t<header>\n\t\t<h1><Icon icon=\"ph:newspaper-duotone\" width=\"24\" /> {content.app_title}</h1>\n\t\t<div class=\"header-actions\">\n\t\t\t<div class=\"search-wrapper\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\"add-btn\"\n\t\t\t\t\tonclick={async () => {\n\t\t\t\t\t\tshowSearch = !showSearch;\n\t\t\t\t\t\tawait tick();\n\t\t\t\t\t\tsearch_el?.focus();\n\t\t\t\t\t}}>\n\t\t\t\t\t<Icon icon=\"ph:plus-bold\" width=\"14\" />\n\t\t\t\t\t{content.add_feed_button}\n\t\t\t\t</button>\n\t\t\t\t{#if showSearch}\n\t\t\t\t\t<div class=\"search-dropdown\">\n\t\t\t\t\t\t<div class=\"search-input-row\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tbind:this={search_el}\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tplaceholder={content.search_placeholder}\n\t\t\t\t\t\t\t\tbind:value={searchQuery}\n\t\t\t\t\t\t\t\tonkeydown={(e) => e.key === \"Enter\" && searchFeeds()} />\n\t\t\t\t\t\t\t<button onclick={searchFeeds} disabled={searching}>\n\t\t\t\t\t\t\t\t{#if searching}\n\t\t\t\t\t\t\t\t\t<Icon icon=\"ph:spinner\" width=\"16\" class=\"spin\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<Icon icon=\"ph:arrow-right-bold\" width=\"16\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{#if searchResults.length > 0}\n\t\t\t\t\t\t\t<ul class=\"search-results\">\n\t\t\t\t\t\t\t\t{#each searchResults as result (result.url)}\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<button onclick={() => addFeed(result)}>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"result-name\">{result.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t{#if result.subscribers}\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"result-subs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>{(result.subscribers / 1000).toFixed(0)}k</span>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t\t{#if db_feeds.length > 0}\n\t\t\t\t<button onclick={refreshAll}>\n\t\t\t\t\t<Icon icon=\"ph:arrows-clockwise-bold\" width=\"16\" />\n\t\t\t\t\t{content.refresh_button}\n\t\t\t\t</button>\n\t\t\t{/if}\n\t\t</div>\n\t</header>\n\n\t{#if feeds_loading}\n\t\t<div class=\"empty-state\">\n\t\t\t<Icon icon=\"ph:spinner\" width=\"48\" class=\"spin\" />\n\t\t\t<p>{content.loading_message}</p>\n\t\t</div>\n\t{:else if feedData.length === 0}\n\t\t<div class=\"empty-state\">\n\t\t\t<Icon icon=\"ph:rss-duotone\" width=\"64\" />\n\t\t\t<h2>{content.empty_title}</h2>\n\t\t\t<p>{content.empty_message}</p>\n\t\t</div>\n\t{:else}\n\t\t<div class=\"scroll-container\">\n\t\t\t{#each feedData as feed, i (feed.id || feed.url)}\n\t\t\t\t<div class=\"card\">\n\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\t<h2>{feed.name}</h2>\n\t\t\t\t\t\t<div class=\"card-actions\">\n\t\t\t\t\t\t\t<button onclick={() => refresh(i)} title={content.refresh_button}>\n\t\t\t\t\t\t\t\t<Icon icon=\"ph:arrows-clockwise\" width=\"16\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonclick={() => removeFeed(feed)}\n\t\t\t\t\t\t\t\ttitle={content.remove_button}>\n\t\t\t\t\t\t\t\t<Icon icon=\"ph:x\" width=\"16\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{#if feed.loading}\n\t\t\t\t\t\t<div class=\"loading\">\n\t\t\t\t\t\t\t<Icon icon=\"ph:spinner\" width=\"20\" class=\"spin\" />\n\t\t\t\t\t\t\t<span>{content.loading_message}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if feed.error}\n\t\t\t\t\t\t<div class=\"error\">\n\t\t\t\t\t\t\t<Icon icon=\"ph:warning-duotone\" width=\"20\" />\n\t\t\t\t\t\t\t<span>{feed.error}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else if feed.items.length === 0}\n\t\t\t\t\t\t<div class=\"empty\">\n\t\t\t\t\t\t\t<Icon icon=\"ph:tray-duotone\" width=\"20\" />\n\t\t\t\t\t\t\t<span>{content.no_items_message}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{#each feed.items as item (item.href)}\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href={item.href} onclick={(e) => openArticle(item, e)}>\n\t\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/each}\n\t\t</div>\n\t{/if}\n\n\t<footer class=\"footer\">\n\t\tbuilt with <a href=\"https://tinykit.studio\" target=\"_blank\">tinykit.studio</a>\n\t</footer>\n</div>\n\n<!-- Article Modal -->\n{#if articleOpen}\n\t<div\n\t\tclass=\"article-backdrop\"\n\t\ttransition:fade={{ duration: 150 }}\n\t\tonclick={handleBackdropClick}\n\t\tonkeydown={handleKeydown}\n\t\trole=\"dialog\"\n\t\taria-modal=\"true\"\n\t\ttabindex=\"-1\">\n\t\t<div\n\t\t\tclass=\"article-container\"\n\t\t\ttransition:scale={{ duration: 150, start: 0.95, opacity: 0 }}>\n\t\t\t<header class=\"article-header\">\n\t\t\t\t<div class=\"article-meta\">\n\t\t\t\t\t{#if articleData?.siteName}\n\t\t\t\t\t\t<span class=\"article-site\">{articleData.siteName}</span>\n\t\t\t\t\t{/if}\n\t\t\t\t\t{#if articleData?.byline}\n\t\t\t\t\t\t<span class=\"article-byline\">{articleData.byline}</span>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"article-actions\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={articleData?.href}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\tclass=\"article-external\"\n\t\t\t\t\t\ttitle=\"Open original\">\n\t\t\t\t\t\t<Icon icon=\"ph:arrow-square-out\" width=\"18\" />\n\t\t\t\t\t</a>\n\t\t\t\t\t<button onclick={closeArticle} class=\"article-close\" title=\"Close\">\n\t\t\t\t\t\t<Icon icon=\"ph:x\" width=\"18\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</header>\n\n\t\t\t{#if articleLoading}\n\t\t\t\t<div class=\"article-loading\">\n\t\t\t\t\t<Icon icon=\"ph:spinner\" width=\"32\" class=\"spin\" />\n\t\t\t\t\t<span>Loading article...</span>\n\t\t\t\t</div>\n\t\t\t{:else if articleError}\n\t\t\t\t<div class=\"article-error\">\n\t\t\t\t\t<Icon icon=\"ph:warning-duotone\" width=\"32\" />\n\t\t\t\t\t<p>{articleError}</p>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={articleData?.href}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\tclass=\"article-fallback-link\">\n\t\t\t\t\t\tOpen in new tab instead\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t{:else if articleData?.content}\n\t\t\t\t<article class=\"article-content\">\n\t\t\t\t\t<h1>{articleData.title}</h1>\n\t\t\t\t\t{@html articleData.content}\n\t\t\t\t</article>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n{/if}\n\n<style>\n\t.dashboard {\n\t\tfont-family: var(--body-font, system-ui, -apple-system, sans-serif);\n\t\tpadding: 1.5rem;\n\t\tpadding-bottom: 0;\n\t\tbackground: var(--page-background, #0a0a0a);\n\t\theight: 100vh;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tcolor: var(--body-text-color, #e0e0e0);\n\t}\n\n\theader {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tflex-wrap: wrap;\n\t\tgap: 1rem;\n\t\tmargin-bottom: 1.5rem;\n\t\tpadding-bottom: 1rem;\n\t\tborder-bottom: 1px solid var(--border-color, #222);\n\t}\n\n\th1 {\n\t\tmargin: 0;\n\t\tfont-size: 1.5rem;\n\t\tfont-weight: 600;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.5rem;\n\t\tcolor: var(--heading-color, #ffffff);\n\t}\n\n\t.header-actions {\n\t\tdisplay: flex;\n\t\tgap: 0.5rem;\n\t\talign-items: center;\n\t}\n\n\theader button,\n\t.add-btn {\n\t\tbackground: var(--button-background, #222);\n\t\tborder: 1px solid var(--button-border, #333);\n\t\tcolor: var(--body-text-color, #e0e0e0);\n\t\tpadding: 0.5rem 1rem;\n\t\tborder-radius: 6px;\n\t\tcursor: pointer;\n\t\tfont-size: 0.875rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.375rem;\n\t}\n\n\theader button:hover,\n\t.add-btn:hover {\n\t\tbackground: var(--button-hover, #2a2a2a);\n\t}\n\n\t.search-wrapper {\n\t\tposition: relative;\n\t}\n\n\t.search-dropdown {\n\t\tposition: absolute;\n\t\ttop: 100%;\n\t\tright: 0;\n\t\tmargin-top: 0.5rem;\n\t\tbackground: var(--dropdown-background, #111);\n\t\tborder: 1px solid var(--border-color, #333);\n\t\tborder-radius: 8px;\n\t\tpadding: 0.75rem;\n\t\tmin-width: 300px;\n\t\tz-index: 100;\n\t}\n\n\t.search-input-row {\n\t\tdisplay: flex;\n\t\tgap: 0.5rem;\n\t}\n\n\t.search-input-row input {\n\t\tflex: 1;\n\t\tbackground: var(--input-background, #1a1a1a);\n\t\tborder: 1px solid var(--border-color, #333);\n\t\tcolor: var(--body-text-color, #e0e0e0);\n\t\tpadding: 0.5rem 0.75rem;\n\t\tborder-radius: 4px;\n\t\tfont-size: 0.875rem;\n\t}\n\n\t.search-input-row input:focus {\n\t\toutline: none;\n\t\tborder-color: var(--accent-color, #444);\n\t}\n\n\t.search-input-row button {\n\t\tpadding: 0.5rem 0.75rem;\n\t}\n\n\t.search-results {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tmax-height: 300px;\n\t\toverflow-y: auto;\n\t}\n\n\t.search-results li button {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 0.5rem 0.75rem;\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tcolor: var(--secondary-text-color, #c0c0c0);\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\ttext-align: left;\n\t\tfont-size: 0.875rem;\n\t}\n\n\t.search-results li button:hover:not(:disabled) {\n\t\tbackground: var(--hover-background, #1a1a1a);\n\t\tcolor: var(--heading-color, #fff);\n\t}\n\n\t.search-results li button:disabled {\n\t\topacity: 0.5;\n\t\tcursor: default;\n\t}\n\n\t.result-name {\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t.result-subs {\n\t\tcolor: var(--muted-text-color, #666);\n\t\tfont-size: 0.75rem;\n\t\tmargin-left: 0.5rem;\n\t}\n\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 4rem 2rem;\n\t\tcolor: var(--muted-text-color, #666);\n\t\ttext-align: center;\n\t}\n\n\t.empty-state h2 {\n\t\tmargin: 1rem 0 0.5rem;\n\t\tcolor: var(--secondary-text-color, #888);\n\t\tfont-size: 1.25rem;\n\t\tfont-weight: 500;\n\t}\n\n\t.empty-state p {\n\t\tmargin: 0 0 1.5rem;\n\t\tcolor: var(--muted-text-color, #555);\n\t}\n\n\t.scroll-container {\n\t\tdisplay: flex;\n\t\tgap: 1rem;\n\t\toverflow-x: auto;\n\t\tpadding-bottom: 1rem;\n\t}\n\n\t.card {\n\t\tflex: 0 0 calc(90% - 0.5rem);\n\t\tmin-width: 250px;\n\t\tmax-width: 400px;\n\t\tbackground: var(--card-background, #111);\n\t\tborder: 1px solid var(--card-border, #222);\n\t\tborder-radius: 8px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.card-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 0.75rem;\n\t\tflex-shrink: 0;\n\t\tpadding: 1rem 1rem 0 1rem;\n\t}\n\n\t.card-header h2 {\n\t\tmargin: 0;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-color, #fff);\n\t}\n\n\t.card-actions {\n\t\tdisplay: flex;\n\t\tgap: 0.25rem;\n\t}\n\n\t.card-actions button {\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tcolor: var(--muted-text-color, #666);\n\t\tcursor: pointer;\n\t\tpadding: 0.25rem;\n\t\tborder-radius: 4px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 24px;\n\t\theight: 24px;\n\t}\n\n\t.card-actions button:hover {\n\t\tbackground: var(--hover-background, #222);\n\t\tcolor: var(--heading-color, #fff);\n\t}\n\n\tul {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding: 0 1rem 1rem 1rem;\n\t\toverflow-y: auto;\n\t\tflex: 1;\n\t}\n\n\tli {\n\t\tpadding: 0.5rem 0;\n\t\tborder-bottom: 1px solid var(--divider-color, #1a1a1a);\n\t}\n\n\tli:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\ta {\n\t\tcolor: var(--link-color, #c0c0c0);\n\t\ttext-decoration: none;\n\t\tfont-size: 0.875rem;\n\t\tline-height: 1.4;\n\t\tdisplay: block;\n\t}\n\n\ta:hover {\n\t\tcolor: var(--link-hover-color, #fff);\n\t}\n\n\t.loading,\n\t.empty,\n\t.error {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.5rem;\n\t\tcolor: var(--muted-text-color, #666);\n\t\tfont-size: 0.875rem;\n\t\tpadding: 1rem;\n\t}\n\n\t.error {\n\t\tcolor: var(--error-color, #e57373);\n\t}\n\n\t.footer {\n\t\ttext-align: center;\n\t\tpadding: 1rem;\n\t\tfont-size: 0.75rem;\n\t\tcolor: var(--muted-text-color, #555);\n\t}\n\n\t.footer a {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t}\n\n\t.footer a:hover {\n\t\tcolor: var(--link-hover-color, #888);\n\t}\n\n\t.scroll-container::-webkit-scrollbar {\n\t\theight: 8px;\n\t}\n\n\t.scroll-container::-webkit-scrollbar-track {\n\t\tbackground: var(--card-background, #111);\n\t}\n\n\t.scroll-container::-webkit-scrollbar-thumb {\n\t\tbackground: var(--border-color, #333);\n\t\tborder-radius: 4px;\n\t}\n\n\t.scroll-container::-webkit-scrollbar-thumb:hover {\n\t\tbackground: var(--accent-color, #444);\n\t}\n\n\t/* Article Modal Styles */\n\t.article-backdrop {\n\t\tposition: fixed;\n\t\tinset: 0;\n\t\tbackground: rgba(0, 0, 0, 0.8);\n\t\tbackdrop-filter: blur(4px);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 2rem;\n\t\tz-index: 1000;\n\t}\n\n\t.article-container {\n\t\tbackground: var(--card-background, #111);\n\t\tborder: 1px solid var(--border-color, #222);\n\t\tborder-radius: 12px;\n\t\twidth: 100%;\n\t\tmax-width: 720px;\n\t\tmax-height: 90vh;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\toverflow: hidden;\n\t}\n\n\t.article-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 1rem 1.5rem;\n\t\tborder-bottom: 1px solid var(--border-color, #222);\n\t\tflex-shrink: 0;\n\t}\n\n\t.article-meta {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 0.25rem;\n\t}\n\n\t.article-site {\n\t\tfont-size: 0.75rem;\n\t\tfont-weight: 600;\n\t\tcolor: var(--accent-color, #888);\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.article-byline {\n\t\tfont-size: 0.8125rem;\n\t\tcolor: var(--muted-text-color, #666);\n\t}\n\n\t.article-actions {\n\t\tdisplay: flex;\n\t\tgap: 0.5rem;\n\t}\n\n\t.article-external,\n\t.article-close {\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tcolor: var(--muted-text-color, #666);\n\t\tcursor: pointer;\n\t\tpadding: 0.5rem;\n\t\tborder-radius: 6px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttext-decoration: none;\n\t}\n\n\t.article-external:hover,\n\t.article-close:hover {\n\t\tbackground: var(--hover-background, #222);\n\t\tcolor: var(--heading-color, #fff);\n\t}\n\n\t.article-loading,\n\t.article-error {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 4rem 2rem;\n\t\tgap: 1rem;\n\t\tcolor: var(--muted-text-color, #666);\n\t\ttext-align: center;\n\t}\n\n\t.article-error p {\n\t\tmargin: 0;\n\t}\n\n\t.article-fallback-link {\n\t\tcolor: var(--accent-color, #888);\n\t\ttext-decoration: underline;\n\t\tfont-size: 0.875rem;\n\t}\n\n\t.article-content {\n\t\tpadding: 1.5rem 2rem 2rem;\n\t\toverflow-y: auto;\n\t\tflex: 1;\n\t\tcolor: var(--body-text-color, #e0e0e0);\n\t\tline-height: 1.7;\n\t}\n\n\t.article-content h1 {\n\t\tfont-size: 1.75rem;\n\t\tfont-weight: 700;\n\t\tcolor: var(--heading-color, #fff);\n\t\tmargin: 0 0 1.5rem;\n\t\tline-height: 1.3;\n\t}\n\n\t.article-content :global(h2),\n\t.article-content :global(h3),\n\t.article-content :global(h4) {\n\t\tcolor: var(--heading-color, #fff);\n\t\tmargin: 1.5rem 0 0.75rem;\n\t\tline-height: 1.3;\n\t}\n\n\t.article-content :global(p) {\n\t\tmargin: 0 0 1rem;\n\t}\n\n\t.article-content :global(img) {\n\t\tmax-width: 100%;\n\t\theight: auto;\n\t\tborder-radius: 8px;\n\t\tmargin: 1rem 0;\n\t}\n\n\t.article-content :global(a) {\n\t\tcolor: var(--accent-color, #6b9fff);\n\t\ttext-decoration: underline;\n\t}\n\n\t.article-content :global(blockquote) {\n\t\tborder-left: 3px solid var(--accent-color, #444);\n\t\tmargin: 1rem 0;\n\t\tpadding-left: 1rem;\n\t\tcolor: var(--secondary-text-color, #aaa);\n\t\tfont-style: italic;\n\t}\n\n\t.article-content :global(pre),\n\t.article-content :global(code) {\n\t\tbackground: var(--input-background, #1a1a1a);\n\t\tborder-radius: 4px;\n\t\tfont-family: ui-monospace, monospace;\n\t\tfont-size: 0.875em;\n\t}\n\n\t.article-content :global(pre) {\n\t\tpadding: 1rem;\n\t\toverflow-x: auto;\n\t}\n\n\t.article-content :global(code) {\n\t\tpadding: 0.125rem 0.375rem;\n\t}\n\n\t.article-content :global(ul),\n\t.article-content :global(ol) {\n\t\tmargin: 0 0 1rem;\n\t\tpadding-left: 1.5rem;\n\t}\n\n\t.article-content :global(li) {\n\t\tmargin-bottom: 0.5rem;\n\t\tpadding: 0;\n\t\tborder: none;\n\t}\n\n\t@keyframes spin {\n\t\tfrom {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t:global(.spin) {\n\t\tanimation: spin 1s linear infinite;\n\t}\n</style>",
	"design": [
		{
			"id": "body-font",
			"name": "Font",
			"css_var": "--body-font",
			"value": "system-ui, -apple-system, sans-serif",
			"type": "font",
			"description": "Main font for all text"
		},
		{
			"id": "page-background",
			"name": "Page Background",
			"css_var": "--page-background",
			"value": "#0a0a0a",
			"type": "color",
			"description": "Overall page background"
		},
		{
			"id": "card-background",
			"name": "Card Background",
			"css_var": "--card-background",
			"value": "#111111",
			"type": "color",
			"description": "Feed card background"
		},
		{
			"id": "card-border",
			"name": "Card Border",
			"css_var": "--card-border",
			"value": "#222222",
			"type": "color",
			"description": "Feed card border color"
		},
		{
			"id": "dropdown-background",
			"name": "Dropdown Background",
			"css_var": "--dropdown-background",
			"value": "#111111",
			"type": "color",
			"description": "Search dropdown background"
		},
		{
			"id": "input-background",
			"name": "Input Background",
			"css_var": "--input-background",
			"value": "#1a1a1a",
			"type": "color",
			"description": "Input field background"
		},
		{
			"id": "button-background",
			"name": "Button Background",
			"css_var": "--button-background",
			"value": "#222222",
			"type": "color",
			"description": "Button background color"
		},
		{
			"id": "button-border",
			"name": "Button Border",
			"css_var": "--button-border",
			"value": "#333333",
			"type": "color",
			"description": "Button border color"
		},
		{
			"id": "button-hover",
			"name": "Button Hover",
			"css_var": "--button-hover",
			"value": "#2a2a2a",
			"type": "color",
			"description": "Button hover background"
		},
		{
			"id": "hover-background",
			"name": "Hover Background",
			"css_var": "--hover-background",
			"value": "#1a1a1a",
			"type": "color",
			"description": "General hover state background"
		},
		{
			"id": "border-color",
			"name": "Border Color",
			"css_var": "--border-color",
			"value": "#333333",
			"type": "color",
			"description": "Border and divider color"
		},
		{
			"id": "divider-color",
			"name": "Divider Color",
			"css_var": "--divider-color",
			"value": "#1a1a1a",
			"type": "color",
			"description": "List item divider color"
		},
		{
			"id": "heading-color",
			"name": "Heading Color",
			"css_var": "--heading-color",
			"value": "#ffffff",
			"type": "color",
			"description": "Color for headings and titles"
		},
		{
			"id": "body-text-color",
			"name": "Body Text",
			"css_var": "--body-text-color",
			"value": "#e0e0e0",
			"type": "color",
			"description": "Primary body text color"
		},
		{
			"id": "secondary-text-color",
			"name": "Secondary Text",
			"css_var": "--secondary-text-color",
			"value": "#c0c0c0",
			"type": "color",
			"description": "Secondary text color"
		},
		{
			"id": "muted-text-color",
			"name": "Muted Text",
			"css_var": "--muted-text-color",
			"value": "#666666",
			"type": "color",
			"description": "Muted/subtle text color"
		},
		{
			"id": "link-color",
			"name": "Link Color",
			"css_var": "--link-color",
			"value": "#c0c0c0",
			"type": "color",
			"description": "Default link color"
		},
		{
			"id": "link-hover-color",
			"name": "Link Hover",
			"css_var": "--link-hover-color",
			"value": "#ffffff",
			"type": "color",
			"description": "Link hover color"
		},
		{
			"id": "accent-color",
			"name": "Accent Color",
			"css_var": "--accent-color",
			"value": "#444444",
			"type": "color",
			"description": "Accent color for focus states"
		},
		{
			"id": "error-color",
			"name": "Error Color",
			"css_var": "--error-color",
			"value": "#e57373",
			"type": "color",
			"description": "Error message color"
		}
	],
	"content": [
		{
			"id": "app_title",
			"name": "App Title",
			"type": "text",
			"value": "News Reader",
			"description": "Title shown in header"
		},
		{
			"id": "add_feed_button",
			"name": "Add Feed Button",
			"type": "text",
			"value": "Add Feed",
			"description": "Add feed button text"
		},
		{
			"id": "refresh_button",
			"name": "Refresh Button",
			"type": "text",
			"value": "Refresh",
			"description": "Refresh button text"
		},
		{
			"id": "remove_button",
			"name": "Remove Button",
			"type": "text",
			"value": "Remove",
			"description": "Remove feed button title"
		},
		{
			"id": "search_placeholder",
			"name": "Search Placeholder",
			"type": "text",
			"value": "Search feeds...",
			"description": "Search input placeholder"
		},
		{
			"id": "loading_message",
			"name": "Loading Message",
			"type": "text",
			"value": "Loading...",
			"description": "Shown while loading"
		},
		{
			"id": "empty_title",
			"name": "Empty State Title",
			"type": "text",
			"value": "No feeds yet",
			"description": "Title when no feeds added"
		},
		{
			"id": "empty_message",
			"name": "Empty State Message",
			"type": "text",
			"value": "Add your first feed to get started",
			"description": "Message when no feeds added"
		},
		{
			"id": "no_items_message",
			"name": "No Items Message",
			"type": "text",
			"value": "No items found",
			"description": "Shown when feed has no items"
		}
	],
	"data": {
		"feeds": {
			"schema": [
				{
					"name": "id",
					"type": "text"
				},
				{
					"name": "name",
					"type": "text"
				},
				{
					"name": "url",
					"type": "url"
				},
				{
					"name": "order",
					"type": "number"
				}
			],
			"records": [
				{
					"id": "x7k2m",
					"name": "Hacker News",
					"url": "https://hnrss.org/frontpage",
					"order": 0
				},
				{
					"id": "p9f3w",
					"name": "TechCrunch",
					"url": "https://techcrunch.com/feed/",
					"order": 1
				},
				{
					"id": "q4n8j",
					"name": "The Verge",
					"url": "https://www.theverge.com/rss/index.xml",
					"order": 2
				}
			],
			"icon": "lucide:rss"
		}
	}
}

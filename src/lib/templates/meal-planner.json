{
	"id": "meal-planner",
	"name": "Meal Planner",
	"description": "Weekly meal planning with grocery list generation",
	"preview": "lucide:utensils",
	"tags": ["family", "food", "planning"],
	"kits": ["parent", "daily", "food"],
	"frontend_code": "<script>\n\timport Icon from '@iconify/svelte'\n\timport content from '$content'\n\timport data from '$data'\n\n\tlet meals = $state([])\n\tlet favorites = $state([])\n\tlet grocery_items = $state([])\n\tlet loading = $state(true)\n\tlet view = $state('planner')\n\tlet editing = $state(null)\n\tlet show_favorites = $state(false)\n\n\tlet form = $state({ name: '', type: 'dinner', ingredients: '', recipe_url: '' })\n\n\tconst days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\n\tconst meal_types = ['breakfast', 'lunch', 'dinner']\n\tconst meal_icons = { breakfast: 'lucide:sunrise', lunch: 'lucide:sun', dinner: 'lucide:moon' }\n\n\tdata.meals.subscribe(items => { meals = items })\n\tdata.favorites.subscribe(items => { favorites = items })\n\tdata.grocery_items.subscribe(items => { grocery_items = items; loading = false })\n\n\tfunction get_week_start() {\n\t\tconst now = new Date()\n\t\tconst day = now.getDay()\n\t\tconst diff = now.getDate() - day + (day === 0 ? -6 : 1)\n\t\treturn new Date(now.setDate(diff)).toISOString().split('T')[0]\n\t}\n\n\tlet week_start = $state(get_week_start())\n\n\tfunction get_day_date(day_index) {\n\t\tconst start = new Date(week_start)\n\t\tstart.setDate(start.getDate() + day_index)\n\t\treturn start.toISOString().split('T')[0]\n\t}\n\n\tfunction get_meal(day_index, type) {\n\t\tconst date = get_day_date(day_index)\n\t\treturn meals.find(m => m.date === date && m.type === type)\n\t}\n\n\tfunction start_edit(day_index, type) {\n\t\tconst existing = get_meal(day_index, type)\n\t\tif (existing) {\n\t\t\tform = {\n\t\t\t\tname: existing.name,\n\t\t\t\ttype: existing.type,\n\t\t\t\tingredients: existing.ingredients || '',\n\t\t\t\trecipe_url: existing.recipe_url || ''\n\t\t\t}\n\t\t\tediting = { day_index, type, id: existing.id }\n\t\t} else {\n\t\t\tform = { name: '', type, ingredients: '', recipe_url: '' }\n\t\t\tediting = { day_index, type, id: null }\n\t\t}\n\t\tshow_favorites = false\n\t}\n\n\tasync function save_meal() {\n\t\tif (!form.name.trim()) return\n\t\tconst date = get_day_date(editing.day_index)\n\t\tconst meal_data = {\n\t\t\tname: form.name.trim(),\n\t\t\ttype: editing.type,\n\t\t\tdate,\n\t\t\tingredients: form.ingredients.trim(),\n\t\t\trecipe_url: form.recipe_url.trim()\n\t\t}\n\t\tif (editing.id) {\n\t\t\tawait data.meals.update(editing.id, meal_data)\n\t\t} else {\n\t\t\tawait data.meals.create(meal_data)\n\t\t}\n\t\tediting = null\n\t}\n\n\tasync function delete_meal(id) {\n\t\tawait data.meals.delete(id)\n\t\tediting = null\n\t}\n\n\tasync function add_to_favorites() {\n\t\tif (!form.name.trim()) return\n\t\tconst exists = favorites.some(f => f.name.toLowerCase() === form.name.trim().toLowerCase())\n\t\tif (!exists) {\n\t\t\tawait data.favorites.create({\n\t\t\t\tname: form.name.trim(),\n\t\t\t\tingredients: form.ingredients.trim(),\n\t\t\t\trecipe_url: form.recipe_url.trim()\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction use_favorite(fav) {\n\t\tform.name = fav.name\n\t\tform.ingredients = fav.ingredients || ''\n\t\tform.recipe_url = fav.recipe_url || ''\n\t\tshow_favorites = false\n\t}\n\n\tasync function remove_favorite(id) {\n\t\tawait data.favorites.delete(id)\n\t}\n\n\tfunction prev_week() {\n\t\tconst d = new Date(week_start)\n\t\td.setDate(d.getDate() - 7)\n\t\tweek_start = d.toISOString().split('T')[0]\n\t}\n\n\tfunction next_week() {\n\t\tconst d = new Date(week_start)\n\t\td.setDate(d.getDate() + 7)\n\t\tweek_start = d.toISOString().split('T')[0]\n\t}\n\n\tfunction format_week() {\n\t\tconst start = new Date(week_start)\n\t\tconst end = new Date(week_start)\n\t\tend.setDate(end.getDate() + 6)\n\t\treturn `${start.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })} - ${end.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}`\n\t}\n\n\tfunction get_week_meals() {\n\t\tconst start = new Date(week_start)\n\t\tconst end = new Date(week_start)\n\t\tend.setDate(end.getDate() + 7)\n\t\treturn meals.filter(m => {\n\t\t\tconst d = new Date(m.date)\n\t\t\treturn d >= start && d < end\n\t\t})\n\t}\n\n\tfunction generate_grocery_list() {\n\t\tconst week_meals = get_week_meals()\n\t\tconst all_ingredients = week_meals\n\t\t\t.map(m => m.ingredients || '')\n\t\t\t.join('\\n')\n\t\t\t.split('\\n')\n\t\t\t.map(i => i.trim())\n\t\t\t.filter(i => i)\n\t\treturn [...new Set(all_ingredients)].sort()\n\t}\n\n\tlet generated_list = $derived(generate_grocery_list())\n\n\tasync function add_grocery_item(name) {\n\t\tif (grocery_items.some(i => i.name === name)) return\n\t\tawait data.grocery_items.create({ name, checked: false })\n\t}\n\n\tasync function toggle_grocery(id, checked) {\n\t\tawait data.grocery_items.update(id, { checked: !checked })\n\t}\n\n\tasync function clear_checked() {\n\t\tconst checked = grocery_items.filter(i => i.checked)\n\t\tfor (const item of checked) {\n\t\t\tawait data.grocery_items.delete(item.id)\n\t\t}\n\t}\n\n\tasync function add_all_to_grocery() {\n\t\tfor (const item of generated_list) {\n\t\t\tif (!grocery_items.some(i => i.name === item)) {\n\t\t\t\tawait data.grocery_items.create({ name: item, checked: false })\n\t\t\t}\n\t\t}\n\t}\n\n\tlet grocery_form = $state('')\n\tasync function add_custom_grocery() {\n\t\tif (!grocery_form.trim()) return\n\t\tawait data.grocery_items.create({ name: grocery_form.trim(), checked: false })\n\t\tgrocery_form = ''\n\t}\n</script>\n\n<div class=\"page\">\n\t<header class=\"header\">\n\t\t<div class=\"header-left\">\n\t\t\t<Icon icon=\"lucide:utensils\" width={24} />\n\t\t\t<h1>{content.app_title}</h1>\n\t\t</div>\n\t\t<div class=\"tabs\">\n\t\t\t<button class:active={view === 'planner'} onclick={() => view = 'planner'}>\n\t\t\t\t<Icon icon=\"lucide:calendar\" width={18} />\n\t\t\t\tPlanner\n\t\t\t</button>\n\t\t\t<button class:active={view === 'grocery'} onclick={() => view = 'grocery'}>\n\t\t\t\t<Icon icon=\"lucide:shopping-cart\" width={18} />\n\t\t\t\tGroceries\n\t\t\t</button>\n\t\t</div>\n\t</header>\n\n\t<main class=\"content\">\n\t\t{#if loading}\n\t\t\t<div class=\"loading\"><Icon icon=\"lucide:loader-2\" width={24} class=\"spin\" /></div>\n\t\t{:else if view === 'planner'}\n\t\t\t<div class=\"week-nav\">\n\t\t\t\t<button onclick={prev_week}><Icon icon=\"lucide:chevron-left\" width={20} /></button>\n\t\t\t\t<span class=\"week-label\">{format_week()}</span>\n\t\t\t\t<button onclick={next_week}><Icon icon=\"lucide:chevron-right\" width={20} /></button>\n\t\t\t</div>\n\n\t\t\t<div class=\"planner-grid\">\n\t\t\t\t<div class=\"grid-header\">\n\t\t\t\t\t<div class=\"corner\"></div>\n\t\t\t\t\t{#each meal_types as type}\n\t\t\t\t\t\t<div class=\"type-header\">\n\t\t\t\t\t\t\t<Icon icon={meal_icons[type]} width={16} />\n\t\t\t\t\t\t\t{type.charAt(0).toUpperCase() + type.slice(1)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\n\t\t\t\t{#each days as day, i}\n\t\t\t\t\t<div class=\"day-row\">\n\t\t\t\t\t\t<div class=\"day-label\">\n\t\t\t\t\t\t\t<span class=\"day-name\">{day}</span>\n\t\t\t\t\t\t\t<span class=\"day-date\">{new Date(get_day_date(i)).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{#each meal_types as type}\n\t\t\t\t\t\t\t{@const meal = get_meal(i, type)}\n\t\t\t\t\t\t\t<button class=\"meal-cell\" class:filled={meal} onclick={() => start_edit(i, type)}>\n\t\t\t\t\t\t\t\t{#if meal}\n\t\t\t\t\t\t\t\t\t<span class=\"meal-name\">{meal.name}</span>\n\t\t\t\t\t\t\t\t\t{#if meal.recipe_url}\n\t\t\t\t\t\t\t\t\t\t<Icon icon=\"lucide:link\" width={12} class=\"link-icon\" />\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<Icon icon=\"lucide:plus\" width={18} class=\"add-icon\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\n\t\t\t{#if editing}\n\t\t\t\t<div class=\"modal-overlay\" onclick={() => editing = null}>\n\t\t\t\t\t<div class=\"modal\" onclick={(e) => e.stopPropagation()}>\n\t\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t<Icon icon={meal_icons[editing.type]} width={20} />\n\t\t\t\t\t\t\t\t{days[editing.day_index]} {editing.type.charAt(0).toUpperCase() + editing.type.slice(1)}\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<button class=\"close-btn\" onclick={() => editing = null}>\n\t\t\t\t\t\t\t\t<Icon icon=\"lucide:x\" width={20} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<div class=\"input-with-btn\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Meal name\"\n\t\t\t\t\t\t\t\t\t\tbind:value={form.name}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<button class=\"fav-toggle\" onclick={() => show_favorites = !show_favorites}>\n\t\t\t\t\t\t\t\t\t\t<Icon icon=\"lucide:heart\" width={18} />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{#if show_favorites && favorites.length > 0}\n\t\t\t\t\t\t\t\t\t<div class=\"favorites-dropdown\">\n\t\t\t\t\t\t\t\t\t\t{#each favorites as fav (fav.id)}\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"fav-item\" role=\"button\" tabindex=\"0\" onclick={() => use_favorite(fav)} onkeydown={(e) => e.key === 'Enter' && use_favorite(fav)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{fav.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"remove-fav\" onclick={(e) => { e.stopPropagation(); remove_favorite(fav.id) }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon icon=\"lucide:x\" width={14} />\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<label>Ingredients (one per line)</label>\n\t\t\t\t\t\t\t\t<textarea rows=\"4\" placeholder=\"1 lb chicken\\n2 cups rice\\n1 onion\" bind:value={form.ingredients}></textarea>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t\t<label>Recipe URL (optional)</label>\n\t\t\t\t\t\t\t\t<input type=\"url\" placeholder=\"https://...\" bind:value={form.recipe_url} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"modal-footer\">\n\t\t\t\t\t\t\t<button class=\"save-fav-btn\" onclick={add_to_favorites} disabled={!form.name.trim()}>\n\t\t\t\t\t\t\t\t<Icon icon=\"lucide:heart\" width={16} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div class=\"footer-right\">\n\t\t\t\t\t\t\t\t{#if editing.id}\n\t\t\t\t\t\t\t\t\t<button class=\"delete-btn\" onclick={() => delete_meal(editing.id)}>\n\t\t\t\t\t\t\t\t\t\t<Icon icon=\"lucide:trash-2\" width={16} />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t<button class=\"save-btn\" onclick={save_meal} disabled={!form.name.trim()}>Save</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t{:else}\n\t\t\t<div class=\"grocery-view\">\n\t\t\t\t<div class=\"grocery-header\">\n\t\t\t\t\t<h2>Shopping List</h2>\n\t\t\t\t\t{#if grocery_items.some(i => i.checked)}\n\t\t\t\t\t\t<button class=\"clear-btn\" onclick={clear_checked}>Clear checked</button>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"add-grocery\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Add item...\"\n\t\t\t\t\t\tbind:value={grocery_form}\n\t\t\t\t\t\tonkeydown={(e) => e.key === 'Enter' && add_custom_grocery()}\n\t\t\t\t\t/>\n\t\t\t\t\t<button onclick={add_custom_grocery}>\n\t\t\t\t\t\t<Icon icon=\"lucide:plus\" width={20} />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"grocery-list\">\n\t\t\t\t\t{#each grocery_items.filter(i => !i.checked) as item (item.id)}\n\t\t\t\t\t\t<button class=\"grocery-item\" onclick={() => toggle_grocery(item.id, item.checked)}>\n\t\t\t\t\t\t\t<span class=\"checkbox\"></span>\n\t\t\t\t\t\t\t<span>{item.name}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{/each}\n\t\t\t\t\t{#each grocery_items.filter(i => i.checked) as item (item.id)}\n\t\t\t\t\t\t<button class=\"grocery-item checked\" onclick={() => toggle_grocery(item.id, item.checked)}>\n\t\t\t\t\t\t\t<span class=\"checkbox\"><Icon icon=\"lucide:check\" width={14} /></span>\n\t\t\t\t\t\t\t<span>{item.name}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\n\t\t\t\t{#if generated_list.length > 0}\n\t\t\t\t\t<div class=\"generated-section\">\n\t\t\t\t\t\t<div class=\"generated-header\">\n\t\t\t\t\t\t\t<h3>From This Week's Meals</h3>\n\t\t\t\t\t\t\t<button class=\"add-all-btn\" onclick={add_all_to_grocery}>Add all</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"generated-list\">\n\t\t\t\t\t\t\t{#each generated_list as item}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"generated-item\"\n\t\t\t\t\t\t\t\t\tclass:added={grocery_items.some(i => i.name === item)}\n\t\t\t\t\t\t\t\t\tonclick={() => add_grocery_item(item)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{#if grocery_items.some(i => i.name === item)}\n\t\t\t\t\t\t\t\t\t\t<Icon icon=\"lucide:check\" width={14} />\n\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t<Icon icon=\"lucide:plus\" width={14} />\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t</main>\n\t<footer class=\"footer\">built with <a href=\"https://tinykit.studio\" target=\"_blank\">tinykit.studio</a></footer>\n</div>\n\n<style>\n\t.page {\n\t\tmin-height: 100vh;\n\t\tbackground: var(--page-background, #f0fdf4);\n\t\tfont-family: var(--body-font, system-ui, sans-serif);\n\t}\n\n\t.header {\n\t\tpadding: 1rem 1.5rem;\n\t\tbackground: var(--header-background, #ffffff);\n\t\tborder-bottom: 1px solid var(--border-color, #bbf7d0);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tflex-wrap: wrap;\n\t\tgap: 1rem;\n\t}\n\n\t.header-left {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10px;\n\t\tcolor: var(--accent-color, #16a34a);\n\t}\n\n\t.header h1 {\n\t\tmargin: 0;\n\t\tfont-size: 1.25rem;\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-text-color, #14532d);\n\t}\n\n\t.tabs {\n\t\tdisplay: flex;\n\t\tgap: 4px;\n\t\tbackground: var(--tab-background, #dcfce7);\n\t\tpadding: 4px;\n\t\tborder-radius: 10px;\n\t}\n\n\t.tabs button {\n\t\tpadding: 8px 16px;\n\t\tborder: none;\n\t\tbackground: none;\n\t\tborder-radius: 8px;\n\t\tfont-size: 0.875rem;\n\t\tcursor: pointer;\n\t\tcolor: var(--secondary-text-color, #166534);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 6px;\n\t\ttransition: all 0.15s;\n\t}\n\n\t.tabs button.active {\n\t\tbackground: var(--card-background, #ffffff);\n\t\tcolor: var(--accent-color, #16a34a);\n\t\tbox-shadow: 0 1px 3px rgba(0,0,0,0.1);\n\t}\n\n\t.content {\n\t\tmax-width: 1000px;\n\t\tmargin: 0 auto;\n\t\tpadding: 1.5rem;\n\t}\n\n\t.loading {\n\t\ttext-align: center;\n\t\tpadding: 4rem;\n\t\tcolor: var(--secondary-text-color, #166534);\n\t}\n\n\t.week-nav {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 1rem;\n\t\tmargin-bottom: 1.5rem;\n\t}\n\n\t.week-nav button {\n\t\tpadding: 8px;\n\t\tbackground: var(--card-background, #ffffff);\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: 8px;\n\t\tcursor: pointer;\n\t\tcolor: var(--body-text-color, #166534);\n\t}\n\n\t.week-label {\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-text-color, #14532d);\n\t}\n\n\t.planner-grid {\n\t\tbackground: var(--card-background, #ffffff);\n\t\tborder-radius: var(--card-radius, 12px);\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\toverflow: hidden;\n\t}\n\n\t.grid-header {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 100px repeat(3, 1fr);\n\t\tbackground: var(--header-row-bg, #f0fdf4);\n\t\tborder-bottom: 1px solid var(--border-color, #bbf7d0);\n\t}\n\n\t.corner, .type-header {\n\t\tpadding: 12px;\n\t\tfont-size: 0.8rem;\n\t\tfont-weight: 600;\n\t\tcolor: var(--secondary-text-color, #166534);\n\t\ttext-transform: capitalize;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 6px;\n\t}\n\n\t.day-row {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 100px repeat(3, 1fr);\n\t\tborder-bottom: 1px solid var(--border-color, #bbf7d0);\n\t}\n\n\t.day-row:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.day-label {\n\t\tpadding: 12px;\n\t\tbackground: var(--header-row-bg, #f0fdf4);\n\t\tborder-right: 1px solid var(--border-color, #bbf7d0);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 2px;\n\t}\n\n\t.day-name {\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-text-color, #14532d);\n\t\tfont-size: 0.875rem;\n\t}\n\n\t.day-date {\n\t\tfont-size: 0.75rem;\n\t\tcolor: var(--secondary-text-color, #166534);\n\t}\n\n\t.meal-cell {\n\t\tpadding: 12px;\n\t\tmin-height: 60px;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tborder-right: 1px solid var(--border-color, #bbf7d0);\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 6px;\n\t\ttransition: background 0.15s;\n\t\ttext-align: left;\n\t}\n\n\t.meal-cell:last-child {\n\t\tborder-right: none;\n\t}\n\n\t.meal-cell:hover {\n\t\tbackground: var(--hover-bg, #dcfce7);\n\t}\n\n\t.meal-cell.filled {\n\t\tjustify-content: flex-start;\n\t}\n\n\t.meal-name {\n\t\tcolor: var(--body-text-color, #166534);\n\t\tfont-size: 0.875rem;\n\t}\n\n\t.add-icon {\n\t\tcolor: var(--secondary-text-color, #86efac);\n\t}\n\n\t.link-icon {\n\t\tcolor: var(--accent-color, #16a34a);\n\t}\n\n\t/* Modal */\n\t.modal-overlay {\n\t\tposition: fixed;\n\t\tinset: 0;\n\t\tbackground: rgba(0,0,0,0.4);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 1rem;\n\t\tz-index: 100;\n\t}\n\n\t.modal {\n\t\tbackground: var(--card-background, #ffffff);\n\t\tborder-radius: var(--card-radius, 12px);\n\t\twidth: 100%;\n\t\tmax-width: 400px;\n\t\tmax-height: 90vh;\n\t\toverflow-y: auto;\n\t}\n\n\t.modal-header {\n\t\tpadding: 1rem 1.25rem;\n\t\tborder-bottom: 1px solid var(--border-color, #bbf7d0);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\n\t.modal-header h3 {\n\t\tmargin: 0;\n\t\tfont-size: 1rem;\n\t\tcolor: var(--heading-text-color, #14532d);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8px;\n\t}\n\n\t.close-btn {\n\t\tpadding: 4px;\n\t\tbackground: none;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t\tcolor: var(--secondary-text-color, #166534);\n\t}\n\n\t.modal-body {\n\t\tpadding: 1.25rem;\n\t}\n\n\t.form-group {\n\t\tmargin-bottom: 1rem;\n\t\tposition: relative;\n\t}\n\n\t.form-group label {\n\t\tdisplay: block;\n\t\tmargin-bottom: 6px;\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--secondary-text-color, #166534);\n\t}\n\n\t.form-group input,\n\t.form-group textarea {\n\t\twidth: 100%;\n\t\tpadding: 10px 12px;\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: 8px;\n\t\tfont-size: 0.95rem;\n\t\tcolor: var(--body-text-color, #166534);\n\t\tbackground: var(--card-background, #ffffff);\n\t\tbox-sizing: border-box;\n\t}\n\n\t.form-group input:focus,\n\t.form-group textarea:focus {\n\t\toutline: none;\n\t\tborder-color: var(--accent-color, #16a34a);\n\t}\n\n\t.input-with-btn {\n\t\tdisplay: flex;\n\t\tgap: 8px;\n\t}\n\n\t.input-with-btn input {\n\t\tflex: 1;\n\t}\n\n\t.fav-toggle {\n\t\tpadding: 10px 12px;\n\t\tbackground: var(--page-background, #f0fdf4);\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: 8px;\n\t\tcursor: pointer;\n\t\tcolor: var(--accent-color, #16a34a);\n\t}\n\n\t.favorites-dropdown {\n\t\tposition: absolute;\n\t\ttop: 100%;\n\t\tleft: 0;\n\t\tright: 48px;\n\t\tbackground: var(--card-background, #ffffff);\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: 8px;\n\t\tbox-shadow: 0 4px 12px rgba(0,0,0,0.1);\n\t\tz-index: 10;\n\t\tmax-height: 200px;\n\t\toverflow-y: auto;\n\t}\n\n\t.fav-item {\n\t\twidth: 100%;\n\t\tpadding: 10px 12px;\n\t\tbackground: none;\n\t\tborder: none;\n\t\tborder-bottom: 1px solid var(--border-color, #bbf7d0);\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\ttext-align: left;\n\t\tcolor: var(--body-text-color, #166534);\n\t}\n\n\t.fav-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.fav-item:hover {\n\t\tbackground: var(--hover-bg, #dcfce7);\n\t}\n\n\t.remove-fav {\n\t\tpadding: 4px;\n\t\tbackground: none;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t\tcolor: var(--secondary-text-color, #166534);\n\t\topacity: 0.5;\n\t}\n\n\t.remove-fav:hover {\n\t\topacity: 1;\n\t\tcolor: #dc2626;\n\t}\n\n\t.modal-footer {\n\t\tpadding: 1rem 1.25rem;\n\t\tborder-top: 1px solid var(--border-color, #bbf7d0);\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\n\t.footer-right {\n\t\tdisplay: flex;\n\t\tgap: 8px;\n\t}\n\n\t.save-btn {\n\t\tpadding: 10px 20px;\n\t\tbackground: var(--accent-color, #16a34a);\n\t\tcolor: white;\n\t\tborder: none;\n\t\tborder-radius: 8px;\n\t\tfont-weight: 500;\n\t\tcursor: pointer;\n\t}\n\n\t.save-btn:disabled {\n\t\topacity: 0.5;\n\t}\n\n\t.save-fav-btn {\n\t\tpadding: 10px;\n\t\tbackground: var(--page-background, #f0fdf4);\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: 8px;\n\t\tcursor: pointer;\n\t\tcolor: var(--accent-color, #16a34a);\n\t}\n\n\t.save-fav-btn:disabled {\n\t\topacity: 0.5;\n\t}\n\n\t.delete-btn {\n\t\tpadding: 10px;\n\t\tbackground: none;\n\t\tborder: 1px solid #fecaca;\n\t\tborder-radius: 8px;\n\t\tcursor: pointer;\n\t\tcolor: #dc2626;\n\t}\n\n\t/* Grocery View */\n\t.grocery-view {\n\t\tmax-width: 500px;\n\t\tmargin: 0 auto;\n\t}\n\n\t.grocery-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\t.grocery-header h2 {\n\t\tmargin: 0;\n\t\tcolor: var(--heading-text-color, #14532d);\n\t\tfont-size: 1.25rem;\n\t}\n\n\t.clear-btn {\n\t\tpadding: 6px 12px;\n\t\tbackground: none;\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: 6px;\n\t\tfont-size: 0.8rem;\n\t\tcursor: pointer;\n\t\tcolor: var(--secondary-text-color, #166534);\n\t}\n\n\t.add-grocery {\n\t\tdisplay: flex;\n\t\tgap: 8px;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\t.add-grocery input {\n\t\tflex: 1;\n\t\tpadding: 12px;\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: 8px;\n\t\tfont-size: 0.95rem;\n\t\tbackground: var(--card-background, #ffffff);\n\t}\n\n\t.add-grocery button {\n\t\tpadding: 12px;\n\t\tbackground: var(--accent-color, #16a34a);\n\t\tcolor: white;\n\t\tborder: none;\n\t\tborder-radius: 8px;\n\t\tcursor: pointer;\n\t}\n\n\t.grocery-list {\n\t\tbackground: var(--card-background, #ffffff);\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: var(--card-radius, 12px);\n\t\toverflow: hidden;\n\t}\n\n\t.grocery-item {\n\t\twidth: 100%;\n\t\tpadding: 12px 16px;\n\t\tbackground: none;\n\t\tborder: none;\n\t\tborder-bottom: 1px solid var(--border-color, #bbf7d0);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12px;\n\t\tcursor: pointer;\n\t\ttext-align: left;\n\t\tcolor: var(--body-text-color, #166534);\n\t}\n\n\t.grocery-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.grocery-item:hover {\n\t\tbackground: var(--hover-bg, #dcfce7);\n\t}\n\n\t.grocery-item .checkbox {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tborder: 2px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: 4px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.grocery-item.checked {\n\t\tbackground: var(--page-background, #f0fdf4);\n\t}\n\n\t.grocery-item.checked span:not(.checkbox) {\n\t\ttext-decoration: line-through;\n\t\topacity: 0.5;\n\t}\n\n\t.grocery-item.checked .checkbox {\n\t\tbackground: var(--accent-color, #16a34a);\n\t\tborder-color: var(--accent-color, #16a34a);\n\t\tcolor: white;\n\t}\n\n\t.generated-section {\n\t\tmargin-top: 2rem;\n\t}\n\n\t.generated-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\t.generated-header h3 {\n\t\tmargin: 0;\n\t\tfont-size: 1rem;\n\t\tcolor: var(--heading-text-color, #14532d);\n\t}\n\n\t.add-all-btn {\n\t\tpadding: 6px 12px;\n\t\tbackground: var(--accent-color, #16a34a);\n\t\tcolor: white;\n\t\tborder: none;\n\t\tborder-radius: 6px;\n\t\tfont-size: 0.8rem;\n\t\tcursor: pointer;\n\t}\n\n\t.generated-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 8px;\n\t}\n\n\t.generated-item {\n\t\tpadding: 8px 12px;\n\t\tbackground: var(--card-background, #ffffff);\n\t\tborder: 1px solid var(--border-color, #bbf7d0);\n\t\tborder-radius: 20px;\n\t\tfont-size: 0.85rem;\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 6px;\n\t\tcolor: var(--body-text-color, #166534);\n\t\ttransition: all 0.15s;\n\t}\n\n\t.generated-item:hover {\n\t\tborder-color: var(--accent-color, #16a34a);\n\t}\n\n\t.generated-item.added {\n\t\tbackground: var(--hover-bg, #dcfce7);\n\t\tborder-color: var(--accent-color, #16a34a);\n\t\tcolor: var(--accent-color, #16a34a);\n\t}\n\n\t:global(.spin) {\n\t\tanimation: spin 1s linear infinite;\n\t}\n\n\t@keyframes spin {\n\t\tfrom { transform: rotate(0deg); }\n\t\tto { transform: rotate(360deg); }\n\t}\n\n\t.footer {\n\t\ttext-align: center;\n\t\tpadding: 2rem 1rem;\n\t\tfont-size: 0.75rem;\n\t\tcolor: var(--secondary-text-color, #166534);\n\t}\n\n\t.footer a {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t}\n\n\t@media (max-width: 600px) {\n\t\t.header {\n\t\t\tflex-direction: column;\n\t\t\talign-items: stretch;\n\t\t}\n\t\t.tabs {\n\t\t\tjustify-content: center;\n\t\t}\n\t\t.grid-header, .day-row {\n\t\t\tgrid-template-columns: 80px repeat(3, 1fr);\n\t\t}\n\t\t.day-label {\n\t\t\tpadding: 8px;\n\t\t}\n\t\t.day-name {\n\t\t\tfont-size: 0.75rem;\n\t\t}\n\t\t.meal-cell {\n\t\t\tpadding: 8px;\n\t\t\tmin-height: 50px;\n\t\t}\n\t\t.meal-name {\n\t\t\tfont-size: 0.75rem;\n\t\t}\n\t}\n</style>",
	"design": [
		{
			"id": "body-font",
			"name": "Font",
			"css_var": "--body-font",
			"value": "system-ui, sans-serif",
			"type": "font",
			"description": "Main font for all text"
		},
		{
			"id": "page-background",
			"name": "Page Background",
			"css_var": "--page-background",
			"value": "#f0fdf4",
			"type": "color",
			"description": "Overall page background (soft green)"
		},
		{
			"id": "header-background",
			"name": "Header Background",
			"css_var": "--header-background",
			"value": "#ffffff",
			"type": "color",
			"description": "Header bar background"
		},
		{
			"id": "card-background",
			"name": "Card Background",
			"css_var": "--card-background",
			"value": "#ffffff",
			"type": "color",
			"description": "Cards and sections background"
		},
		{
			"id": "heading-text-color",
			"name": "Heading Color",
			"css_var": "--heading-text-color",
			"value": "#14532d",
			"type": "color",
			"description": "Color for headings"
		},
		{
			"id": "body-text-color",
			"name": "Body Text",
			"css_var": "--body-text-color",
			"value": "#166534",
			"type": "color",
			"description": "Color for body text"
		},
		{
			"id": "secondary-text-color",
			"name": "Secondary Text",
			"css_var": "--secondary-text-color",
			"value": "#166534",
			"type": "color",
			"description": "Color for muted text"
		},
		{
			"id": "accent-color",
			"name": "Accent Color",
			"css_var": "--accent-color",
			"value": "#16a34a",
			"type": "color",
			"description": "Primary accent color (green)"
		},
		{
			"id": "border-color",
			"name": "Border Color",
			"css_var": "--border-color",
			"value": "#bbf7d0",
			"type": "color",
			"description": "Border and divider color"
		},
		{
			"id": "card-radius",
			"name": "Card Radius",
			"css_var": "--card-radius",
			"value": "12px",
			"type": "radius",
			"description": "Roundness of cards"
		}
	],
	"content": [
		{
			"id": "app_title",
			"name": "App Title",
			"type": "text",
			"value": "Meal Planner",
			"description": "Title shown in header"
		}
	],
	"data": {
		"meals": {
			"icon": "lucide:utensils",
			"schema": [
				{ "name": "id", "type": "text" },
				{ "name": "name", "type": "text" },
				{ "name": "type", "type": "text" },
				{ "name": "date", "type": "text" },
				{ "name": "ingredients", "type": "text" },
				{ "name": "recipe_url", "type": "text" }
			],
			"records": []
		},
		"favorites": {
			"icon": "lucide:heart",
			"schema": [
				{ "name": "id", "type": "text" },
				{ "name": "name", "type": "text" },
				{ "name": "ingredients", "type": "text" },
				{ "name": "recipe_url", "type": "text" }
			],
			"records": [
				{ "id": "f1", "name": "Spaghetti & Meatballs", "ingredients": "1 lb ground beef\n1 lb spaghetti\n1 jar marinara sauce\nParmesan cheese", "recipe_url": "" },
				{ "id": "f2", "name": "Tacos", "ingredients": "1 lb ground beef\nTaco shells\nShredded lettuce\nCheddar cheese\nSalsa\nSour cream", "recipe_url": "" },
				{ "id": "f3", "name": "Grilled Cheese & Soup", "ingredients": "Bread\nButter\nCheddar cheese\n1 can tomato soup", "recipe_url": "" }
			]
		},
		"grocery_items": {
			"icon": "lucide:shopping-cart",
			"schema": [
				{ "name": "id", "type": "text" },
				{ "name": "name", "type": "text" },
				{ "name": "checked", "type": "boolean" }
			],
			"records": []
		}
	}
}

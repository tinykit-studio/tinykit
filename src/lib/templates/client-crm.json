{
	"id": "client-crm",
	"name": "Client CRM",
	"description": "Track clients, interactions, and follow-ups for freelancers and consultants",
	"preview": "lucide:users",
	"tags": [
		"business",
		"intermediate",
		"data"
	],
	"kits": [
		"business",
		"freelance"
	],
	"frontend_code": "<script>\n\timport Icon from '@iconify/svelte'\n\timport { flip } from 'svelte/animate'\n\timport content from '$content'\n\timport data from '$data'\n\n\tlet clients = $state([])\n\tlet loading = $state(true)\n\tlet filter = $state('all')\n\tlet sort_by = $state('last_contact')\n\tlet view = $state('list')\n\tlet search = $state('')\n\tlet modal_open = $state(false)\n\tlet editing_client = $state(null)\n\tlet just_logged = $state(null)\n\tlet dragging_id = $state(null)\n\tlet drag_over_status = $state(null)\n\tlet form = $state({\n\t\tname: '',\n\t\tcompany: '',\n\t\temail: '',\n\t\tphone: '',\n\t\tstatus: 'lead',\n\t\tsource: 'other',\n\t\tnotes: '',\n\t\tlast_contact: '',\n\t\tnext_follow_up: '',\n\t\tvalue: ''\n\t})\n\n\tconst statuses = [\n\t\t{ id: 'lead', label: 'Lead', color: 'var(--lead-color, #eab308)' },\n\t\t{ id: 'active', label: 'Active', color: 'var(--active-color, #22c55e)' },\n\t\t{ id: 'inactive', label: 'Inactive', color: 'var(--inactive-color, #64748b)' },\n\t\t{ id: 'churned', label: 'Churned', color: 'var(--churned-color, #ef4444)' }\n\t]\n\n\tconst sources = ['referral', 'website', 'social', 'cold', 'other']\n\n\t// Sync view with URL query params\n\tfunction get_view_from_url() {\n\t\tif (typeof window === 'undefined') return 'list'\n\t\tconst params = new URLSearchParams(window.location.search)\n\t\tconst v = params.get('view')\n\t\treturn ['list', 'table', 'kanban'].includes(v) ? v : 'list'\n\t}\n\n\t// Initialize view from URL\n\tview = get_view_from_url()\n\n\t// Update URL when view changes\n\t$effect(() => {\n\t\tif (typeof window === 'undefined') return\n\t\tconst params = new URLSearchParams(window.location.search)\n\t\tif (view === 'list') {\n\t\t\tparams.delete('view')\n\t\t} else {\n\t\t\tparams.set('view', view)\n\t\t}\n\t\tconst newUrl = params.toString() ? `${window.location.pathname}?${params}` : window.location.pathname\n\t\twindow.history.replaceState({}, '', newUrl)\n\t})\n\n\tdata.clients.subscribe(items => {\n\t\t\tclients = items\n\t\tloading = false\n\t});\n\n\tlet filtered_clients = $derived.by(() => {\n\t\tlet result = clients\n\t\t\n\t\t// Filter by status\n\t\tif (filter === 'leads') result = result.filter(c => c.status === 'lead')\n\t\telse if (filter === 'active') result = result.filter(c => c.status === 'active')\n\t\telse if (filter === 'follow-up') result = result.filter(c => c.next_follow_up && is_due(c.next_follow_up))\n\t\t\n\t\t// Filter by search\n\t\tif (search.trim()) {\n\t\t\tconst q = search.toLowerCase()\n\t\t\tresult = result.filter(c => \n\t\t\t\tc.name?.toLowerCase().includes(q) ||\n\t\t\t\tc.company?.toLowerCase().includes(q) ||\n\t\t\t\tc.email?.toLowerCase().includes(q)\n\t\t\t)\n\t\t}\n\t\t\n\t\t// Sort based on selected option\n\t\treturn [...result].sort((a, b) => {\n\t\t\tif (sort_by === 'name') return (a.name || '').localeCompare(b.name || '')\n\t\t\tif (sort_by === 'value') return (b.value || 0) - (a.value || 0)\n\t\t\tif (sort_by === 'follow_up') {\n\t\t\t\tconst da = a.next_follow_up ? new Date(a.next_follow_up) : new Date('9999-12-31')\n\t\t\t\tconst db = b.next_follow_up ? new Date(b.next_follow_up) : new Date('9999-12-31')\n\t\t\t\treturn da - db\n\t\t\t}\n\t\t\t// Default: last_contact (most recent first)\n\t\t\tconst date_a = a.last_contact ? new Date(a.last_contact) : new Date(0)\n\t\t\tconst date_b = b.last_contact ? new Date(b.last_contact) : new Date(0)\n\t\t\treturn date_b - date_a\n\t\t})\n\t})\n\n\tlet stats = $derived.by(() => {\n\t\tconst total = clients.length\n\t\tconst leads = clients.filter(c => c.status === 'lead').length\n\t\tconst overdue = clients.filter(c => c.next_follow_up && is_overdue(c.next_follow_up)).length\n\t\tconst pipeline = clients.reduce((sum, c) => sum + (c.value || 0), 0)\n\t\treturn { total, leads, overdue, pipeline }\n\t})\n\n\tlet clients_by_status = $derived.by(() => {\n\t\tconst grouped = {}\n\t\tfor (const s of statuses) {\n\t\t\tgrouped[s.id] = filtered_clients.filter(c => c.status === s.id)\n\t\t}\n\t\treturn grouped\n\t})\n\n\tfunction handle_drag_start(e, client) {\n\t\tdragging_id = client.id\n\t\te.dataTransfer.effectAllowed = 'move'\n\t\te.dataTransfer.setData('text/plain', client.id)\n\t}\n\n\tfunction handle_drag_end() {\n\t\tdragging_id = null\n\t\tdrag_over_status = null\n\t}\n\n\tfunction handle_drag_over(e, status_id) {\n\t\te.preventDefault()\n\t\te.dataTransfer.dropEffect = 'move'\n\t\tdrag_over_status = status_id\n\t}\n\n\tfunction handle_drag_leave(e, status_id) {\n\t\tif (!e.currentTarget.contains(e.relatedTarget)) {\n\t\t\tif (drag_over_status === status_id) drag_over_status = null\n\t\t}\n\t}\n\n\tasync function handle_drop(e, status_id) {\n\t\te.preventDefault()\n\t\tdrag_over_status = null\n\t\tconst client_id = e.dataTransfer.getData('text/plain')\n\t\tconst client = clients.find(c => c.id === client_id)\n\t\tif (client && client.status !== status_id) {\n\t\t\tawait data.clients.update(client_id, { status: status_id })\n\t\t}\n\t\tdragging_id = null\n\t}\n\t\n\tfunction format_currency(amount) {\n\t\tif (amount >= 1000) return '$' + (amount / 1000).toFixed(amount % 1000 === 0 ? 0 : 1) + 'k'\n\t\treturn '$' + amount\n\t}\n\n\tfunction is_overdue(date) {\n\t\tif (!date) return false\n\t\treturn new Date(date) < new Date(new Date().toDateString())\n\t}\n\n\tfunction is_due(date) {\n\t\tif (!date) return false\n\t\treturn new Date(date) <= new Date(new Date().toDateString())\n\t}\n\n\tfunction format_relative_date(date) {\n\t\tif (!date) return ''\n\t\tconst d = new Date(date)\n\t\tconst today = new Date(new Date().toDateString())\n\t\tconst diff = Math.floor((today - d) / (1000 * 60 * 60 * 24))\n\t\t\n\t\tif (diff === 0) return 'Today'\n\t\tif (diff === 1) return 'Yesterday'\n\t\tif (diff === -1) return 'Tomorrow'\n\t\tif (diff < 0) return `In ${Math.abs(diff)} days`\n\t\tif (diff < 7) return `${diff} days ago`\n\t\tif (diff < 30) return `${Math.floor(diff / 7)} weeks ago`\n\t\treturn d.toLocaleDateString()\n\t}\n\n\tfunction get_status_info(status_id) {\n\t\treturn statuses.find(s => s.id === status_id) || statuses[0]\n\t}\n\n\tfunction open_add_modal() {\n\t\tediting_client = null\n\t\tform = {\n\t\t\tname: '',\n\t\t\tcompany: '',\n\t\t\temail: '',\n\t\t\tphone: '',\n\t\t\tstatus: 'lead',\n\t\t\tsource: 'other',\n\t\t\tnotes: '',\n\t\t\tlast_contact: new Date().toISOString().split('T')[0],\n\t\t\tnext_follow_up: '',\n\t\t\tvalue: ''\n\t\t}\n\t\tmodal_open = true\n\t}\n\n\tfunction open_edit_modal(client) {\n\t\tediting_client = client\n\t\tform = {\n\t\t\tname: client.name || '',\n\t\t\tcompany: client.company || '',\n\t\t\temail: client.email || '',\n\t\t\tphone: client.phone || '',\n\t\t\tstatus: client.status || 'lead',\n\t\t\tsource: client.source || 'other',\n\t\t\tnotes: client.notes || '',\n\t\t\tlast_contact: client.last_contact || '',\n\t\t\tnext_follow_up: client.next_follow_up || '',\n\t\t\tvalue: client.value?.toString() || ''\n\t\t}\n\t\tmodal_open = true\n\t}\n\n\tfunction close_modal() {\n\t\tmodal_open = false\n\t\tediting_client = null\n\t}\n\n\tasync function save_client() {\n\t\tconst client_data = {\n\t\t\tname: form.name,\n\t\t\tcompany: form.company,\n\t\t\temail: form.email,\n\t\t\tphone: form.phone,\n\t\t\tstatus: form.status,\n\t\t\tsource: form.source,\n\t\t\tnotes: form.notes,\n\t\t\tlast_contact: form.last_contact,\n\t\t\tnext_follow_up: form.next_follow_up,\n\t\t\tvalue: form.value ? parseFloat(form.value) : null\n\t\t}\n\n\t\tif (editing_client) {\n\t\t\tawait data.clients.update(editing_client.id, client_data)\n\t\t} else {\n\t\t\tawait data.clients.create(client_data)\n\t\t}\n\t\tclose_modal()\n\t}\n\n\tasync function log_contact(client) {\n\t\tjust_logged = client.id\n\t\tconst updates = { last_contact: new Date().toISOString().split('T')[0] }\n\t\t// Clear follow-up if it was due/overdue\n\t\tif (client.next_follow_up && is_due(client.next_follow_up)) {\n\t\t\tupdates.next_follow_up = ''\n\t\t}\n\t\tawait data.clients.update(client.id, updates)\n\t\tsetTimeout(() => { just_logged = null }, 600)\n\t}\n\n\tfunction contacted_today(date) {\n\t\tif (!date) return false\n\t\treturn date === new Date().toISOString().split('T')[0]\n\t}\n\n\tasync function delete_client(id) {\n\t\tif (confirm('Delete this client?')) {\n\t\t\tawait data.clients.delete(id)\n\t\t\tclose_modal()\n\t\t}\n\t}\n\n\tfunction handle_backdrop(e) {\n\t\tif (e.target === e.currentTarget) close_modal()\n\t}\n\n\tfunction handle_keydown(e) {\n\t\tif (e.key === 'Escape') close_modal()\n\t}\n</script>\n\n<svelte:window onkeydown={handle_keydown} />\n\n<div class=\"page\">\n\t<header class=\"header\">\n\t\t<div class=\"header-content\">\n\t\t\t<h1>{content.title}</h1>\n\t\t\t<button class=\"add-btn\" onclick={open_add_modal}>\n\t\t\t\t<Icon icon=\"lucide:plus\" width={18} />\n\t\t\t\t{content.add_button_text}\n\t\t\t</button>\n\t\t</div>\n\t\t<div class=\"stats\">\n\t\t\t<div class=\"stat\">\n\t\t\t\t<span class=\"stat-value\">{stats.total}</span>\n\t\t\t\t<span class=\"stat-label\">Clients</span>\n\t\t\t</div>\n\t\t\t<div class=\"stat\">\n\t\t\t\t<span class=\"stat-value\">{stats.leads}</span>\n\t\t\t\t<span class=\"stat-label\">Leads</span>\n\t\t\t</div>\n\t\t\t<div class=\"stat\" class:overdue={stats.overdue > 0}>\n\t\t\t\t<span class=\"stat-value\">{stats.overdue}</span>\n\t\t\t\t<span class=\"stat-label\">Overdue</span>\n\t\t\t</div>\n\t\t\t<div class=\"stat pipeline\">\n\t\t\t\t<span class=\"stat-value\">{format_currency(stats.pipeline)}</span>\n\t\t\t\t<span class=\"stat-label\">Pipeline</span>\n\t\t\t</div>\n\t\t</div>\n\t</header>\n\n\t<div class=\"filters\">\n\t\t<div class=\"tabs\">\n\t\t\t<button class=\"tab\" class:active={filter === 'all'} onclick={() => filter = 'all'}>All</button>\n\t\t\t<button class=\"tab\" class:active={filter === 'leads'} onclick={() => filter = 'leads'}>Leads</button>\n\t\t\t<button class=\"tab\" class:active={filter === 'active'} onclick={() => filter = 'active'}>Active</button>\n\t\t\t<button class=\"tab\" class:active={filter === 'follow-up'} onclick={() => filter = 'follow-up'}>Follow-up</button>\n\t\t</div>\n\t\t<div class=\"filter-controls\">\n\t\t\t<div class=\"search\">\n\t\t\t\t<Icon icon=\"lucide:search\" width={16} />\n\t\t\t\t<input type=\"text\" bind:value={search} placeholder={content.search_placeholder} />\n\t\t\t</div>\n\t\t\t<select class=\"sort-select\" bind:value={sort_by}>\n\t\t\t\t<option value=\"last_contact\">Last Contact</option>\n\t\t\t\t<option value=\"name\">Name</option>\n\t\t\t\t<option value=\"value\">Value</option>\n\t\t\t\t<option value=\"follow_up\">Follow-up</option>\n\t\t\t</select>\n\t\t\t<div class=\"view-toggle\">\n\t\t\t\t<button class=\"view-btn\" class:active={view === 'list'} onclick={() => view = 'list'} title=\"List view\">\n\t\t\t\t\t<Icon icon=\"lucide:layout-list\" width={18} />\n\t\t\t\t</button>\n\t\t\t\t<button class=\"view-btn\" class:active={view === 'table'} onclick={() => view = 'table'} title=\"Table view\">\n\t\t\t\t\t<Icon icon=\"lucide:table-2\" width={18} />\n\t\t\t\t</button>\n\t\t\t\t<button class=\"view-btn\" class:active={view === 'kanban'} onclick={() => view = 'kanban'} title=\"Kanban view\">\n\t\t\t\t\t<Icon icon=\"lucide:columns-3\" width={18} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\"clients-list\" class:table-view={view === 'table'} class:kanban-view={view === 'kanban'}>\n\t\t{#if loading}\n\t\t\t<p class=\"loading\">Loading...</p>\n\t\t{:else if filtered_clients.length === 0}\n\t\t\t<div class=\"empty\">\n\t\t\t\t<Icon icon=\"lucide:users\" width={48} />\n\t\t\t\t<p>{content.empty_state}</p>\n\t\t\t</div>\n\t\t{:else if view === 'kanban'}\n\t\t\t<div class=\"kanban-board\">\n\t\t\t\t{#each statuses as status (status.id)}\n\t\t\t\t\t<div \n\t\t\t\t\t\tclass=\"kanban-column\"\n\t\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\taria-label={`${status.label} clients`}\n\t\t\t\t\t\tclass:drag-over={drag_over_status === status.id}\n\t\t\t\t\t\tondragover={(e) => handle_drag_over(e, status.id)}\n\t\t\t\t\t\tondragleave={(e) => handle_drag_leave(e, status.id)}\n\t\t\t\t\t\tondrop={(e) => handle_drop(e, status.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"kanban-header\">\n\t\t\t\t\t\t\t<span class=\"kanban-dot\" style=\"background: {status.color}\"></span>\n\t\t\t\t\t\t\t<span class=\"kanban-title\">{status.label}</span>\n\t\t\t\t\t\t\t<span class=\"kanban-count\">{clients_by_status[status.id]?.length || 0}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"kanban-cards\">\n\t\t\t\t\t\t\t{#each clients_by_status[status.id] || [] as client (client.id)}\n\t\t\t\t\t\t\t\t{@const overdue = is_overdue(client.next_follow_up)}\n\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\tclass=\"kanban-card\"\n\t\t\t\t\t\t\t\t\tclass:dragging={dragging_id === client.id}\n\t\t\t\t\t\t\t\t\tdraggable=\"true\"\n\t\t\t\t\t\t\t\t\tondragstart={(e) => handle_drag_start(e, client)}\n\t\t\t\t\t\t\t\t\tondragend={handle_drag_end}\n\t\t\t\t\t\t\t\t\tonclick={() => open_edit_modal(client)}\n\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\tonkeydown={(e) => e.key === 'Enter' && open_edit_modal(client)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"kanban-card-name\">{client.name}</div>\n\t\t\t\t\t\t\t\t\t{#if client.company}\n\t\t\t\t\t\t\t\t\t\t<div class=\"kanban-card-company\">{client.company}</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t<div class=\"kanban-card-footer\">\n\t\t\t\t\t\t\t\t\t\t{#if client.value}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"kanban-card-value\">{format_currency(client.value)}</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t{#if client.next_follow_up}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"kanban-card-follow\" class:overdue-text={overdue}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon icon=\"lucide:calendar\" width={12} />\n\t\t\t\t\t\t\t\t\t\t\t\t{format_relative_date(client.next_follow_up)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t\n\t\t{:else if view === 'table'}\n\t\t\t<table class=\"clients-table\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t<th>Company</th>\n\t\t\t\t\t\t<th>Email</th>\n\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t<th>Value</th>\n\t\t\t\t\t\t<th>Last Contact</th>\n\t\t\t\t\t\t<th>Follow-up</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{#each filtered_clients as client (client.id)}\n\t\t\t\t\t\t{@const status = get_status_info(client.status)}\n\t\t\t\t\t\t{@const overdue = is_overdue(client.next_follow_up)}\n\t\t\t\t\t\t<tr class=\"table-row\" onclick={() => open_edit_modal(client)}>\n\t\t\t\t\t\t\t<td class=\"cell-name\">\n\t\t\t\t\t\t\t\t<span class=\"status-dot\" style=\"background: {status.color}\"></span>\n\t\t\t\t\t\t\t\t{client.name}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{client.company || '—'}</td>\n\t\t\t\t\t\t\t<td>{client.email}</td>\n\t\t\t\t\t\t\t<td><span class=\"status-badge\" style=\"background: {status.color}20; color: {status.color}\">{status.label}</span></td>\n\t\t\t\t\t\t\t<td>{client.value ? format_currency(client.value) : '—'}</td>\n\t\t\t\t\t\t\t<td>{client.last_contact ? format_relative_date(client.last_contact) : '—'}</td>\n\t\t\t\t\t\t\t<td class:overdue-text={overdue}>{client.next_follow_up ? format_relative_date(client.next_follow_up) : '—'}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t{/each}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t{:else}\n\t\t\t{#each filtered_clients as client (client.id)}\n\t\t\t\t{@const status = get_status_info(client.status)}\n\t\t\t\t{@const overdue = is_overdue(client.next_follow_up)}\n\t\t\t\t<div class=\"client-card\" role=\"button\" tabindex=\"0\" animate:flip={{ duration: 100 }} onclick={() => open_edit_modal(client)} onkeydown={(e) => e.key === 'Enter' && open_edit_modal(client)}>\n\t\t\t\t\t<div class=\"card-main\">\n\t\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\t\t<span class=\"status-dot\" style=\"background: {status.color}\"></span>\n\t\t\t\t\t\t\t<span class=\"client-name\">{client.name}</span>\n\t\t\t\t\t\t\t<span class=\"status-badge\" style=\"background: {status.color}20; color: {status.color}\">\n\t\t\t\t\t\t\t\t{status.label}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card-details\">\n\t\t\t\t\t\t\t<span class=\"company\">{client.company || 'Solo'}</span>\n\t\t\t\t\t\t\t{#if client.value}\n\t\t\t\t\t\t\t\t<span class=\"separator\">·</span>\n\t\t\t\t\t\t\t\t<span class=\"client-value\">{format_currency(client.value)}</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card-contact\">\n\t\t\t\t\t\t\t<span class=\"contact-item\"><Icon icon=\"lucide:mail\" width={14} />{client.email}</span>\n\t\t\t\t\t\t\t{#if client.phone}\n\t\t\t\t\t\t\t\t<span class=\"contact-item\"><Icon icon=\"lucide:phone\" width={14} />{client.phone}</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{#if client.notes}\n\t\t\t\t\t\t\t<div class=\"card-notes\">{client.notes.slice(0, 80)}{client.notes.length > 80 ? '...' : ''}</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t<div class=\"card-meta\">\n\t\t\t\t\t\t\t{#if client.last_contact}\n\t\t\t\t\t\t\t\t<span>Last contact: {format_relative_date(client.last_contact)}</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{#if client.next_follow_up}\n\t\t\t\t\t\t\t\t<span class=\"separator\">·</span>\n\t\t\t\t\t\t\t\t<span class:overdue-text={overdue}>\n\t\t\t\t\t\t\t\t\t{#if overdue}<Icon icon=\"lucide:alert-triangle\" width={14} />{/if}\n\t\t\t\t\t\t\t\t\tFollow up: {format_relative_date(client.next_follow_up)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"card-actions\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclass=\"action-btn\"\n\t\t\t\t\t\t\thref=\"mailto:{client.email}\"\n\t\t\t\t\t\t\tonclick={(e) => e.stopPropagation()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon=\"lucide:mail\" width={18} />\n\t\t\t\t\t\t\t<span class=\"action-tooltip\">Email {client.name.split(' ')[0]}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{#if client.phone}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclass=\"action-btn\"\n\t\t\t\t\t\t\thref=\"tel:{client.phone}\"\n\t\t\t\t\t\t\tonclick={(e) => e.stopPropagation()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon=\"lucide:phone\" width={18} />\n\t\t\t\t\t\t\t<span class=\"action-tooltip\">Call {client.name.split(' ')[0]}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{#if !contacted_today(client.last_contact)}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"action-btn log-btn\"\n\t\t\t\t\t\t\tclass:popped={just_logged === client.id}\n\t\t\t\t\t\t\tonclick={(e) => { e.stopPropagation(); log_contact(client) }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Icon icon={just_logged === client.id ? \"lucide:check\" : \"lucide:user-check\"} width={18} />\n\t\t\t\t\t\t\t<span class=\"action-tooltip\">Log contact</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/each}\n\t\t{/if}\n\t</div>\n\n\t<footer class=\"footer\">built with <a href=\"https://tinykit.studio\" target=\"_blank\">tinykit.studio</a></footer>\n</div>\n\n{#if modal_open}\n\t<div class=\"modal-backdrop\" onclick={handle_backdrop}>\n\t\t<div class=\"modal\">\n\t\t\t<div class=\"modal-header\">\n\t\t\t\t<h2>{editing_client ? 'Edit Client' : 'Add Client'}</h2>\n\t\t\t\t<button class=\"close-btn\" onclick={close_modal}>\n\t\t\t\t\t<Icon icon=\"lucide:x\" width={20} />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class=\"modal-body\">\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"name\">Name *</label>\n\t\t\t\t\t\t<input id=\"name\" type=\"text\" bind:value={form.name} required />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"company\">Company</label>\n\t\t\t\t\t\t<input id=\"company\" type=\"text\" bind:value={form.company} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"email\">Email *</label>\n\t\t\t\t\t\t<input id=\"email\" type=\"email\" bind:value={form.email} required />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"phone\">Phone</label>\n\t\t\t\t\t\t<input id=\"phone\" type=\"tel\" bind:value={form.phone} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"status\">Status</label>\n\t\t\t\t\t\t<select id=\"status\" bind:value={form.status}>\n\t\t\t\t\t\t\t{#each statuses as s (s.id)}\n\t\t\t\t\t\t\t\t<option value={s.id}>{s.label}</option>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"source\">Source</label>\n\t\t\t\t\t\t<select id=\"source\" bind:value={form.source}>\n\t\t\t\t\t\t\t{#each sources as s (s)}\n\t\t\t\t\t\t\t\t<option value={s}>{s.charAt(0).toUpperCase() + s.slice(1)}</option>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-row\">\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"last_contact\">Last Contact</label>\n\t\t\t\t\t\t<input id=\"last_contact\" type=\"date\" bind:value={form.last_contact} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t<label for=\"next_follow_up\">Next Follow-up</label>\n\t\t\t\t\t\t<input id=\"next_follow_up\" type=\"date\" bind:value={form.next_follow_up} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"value\">Value ($)</label>\n\t\t\t\t\t<input id=\"value\" type=\"number\" bind:value={form.value} placeholder=\"Deal size or monthly value\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label for=\"notes\">Notes</label>\n\t\t\t\t\t<textarea id=\"notes\" bind:value={form.notes} rows=\"3\" placeholder=\"Add notes about this client...\"></textarea>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"modal-footer\">\n\t\t\t\t{#if editing_client}\n\t\t\t\t\t<button class=\"delete-btn\" onclick={() => delete_client(editing_client.id)}>\n\t\t\t\t\t\t<Icon icon=\"lucide:trash-2\" width={16} />\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t\t<div class=\"footer-actions\">\n\t\t\t\t\t<button class=\"cancel-btn\" onclick={close_modal}>Cancel</button>\n\t\t\t\t\t<button class=\"save-btn\" onclick={save_client} disabled={!form.name || !form.email}>\n\t\t\t\t\t\t{editing_client ? 'Save Changes' : 'Add Client'}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{/if}\n\n<style>\n\t.page {\n\t\tmin-height: 100vh;\n\t\tbackground: var(--page-background, #f8fafc);\n\t\tfont-family: var(--font-family, Inter, system-ui, sans-serif);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.header {\n\t\tbackground: var(--header-background, #ffffff);\n\t\tpadding: 1.5rem;\n\t\tborder-bottom: 1px solid var(--border-color, #e2e8f0);\n\t}\n\n\t.header-content {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\t.header h1 {\n\t\tmargin: 0;\n\t\tfont-size: 1.5rem;\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-color, #1e293b);\n\t}\n\n\t.add-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.5rem;\n\t\tpadding: 0.625rem 1rem;\n\t\tbackground: var(--primary-color, #2563eb);\n\t\tcolor: #ffffff;\n\t\tborder: none;\n\t\tborder-radius: var(--card-radius, 8px);\n\t\tfont-weight: 500;\n\t\tcursor: pointer;\n\t\ttransition: opacity 0.15s;\n\t}\n\n\t.add-btn:hover {\n\t\topacity: 0.9;\n\t}\n\n\t.stats {\n\t\tdisplay: flex;\n\t\tgap: 2rem;\n\t}\n\n\t.stat {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.stat-value {\n\t\tfont-size: 1.5rem;\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-color, #1e293b);\n\t}\n\n\t.stat-label {\n\t\tfont-size: 0.75rem;\n\t\tcolor: var(--secondary-text, #64748b);\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.stat.overdue .stat-value {\n\t\tcolor: var(--overdue-color, #ef4444);\n\t}\n\n\t.filters {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 1rem 1.5rem;\n\t\tgap: 1rem;\n\t\tbackground: var(--header-background, #ffffff);\n\t\tborder-bottom: 1px solid var(--border-color, #e2e8f0);\n\t\tflex-wrap: wrap;\n\t}\n\n\t.tabs {\n\t\tdisplay: flex;\n\t\tgap: 0.25rem;\n\t\toverflow-x: auto;\n\t}\n\n\t.tab {\n\t\tpadding: 0.5rem 1rem;\n\t\tbackground: none;\n\t\tborder: none;\n\t\tcolor: var(--secondary-text, #64748b);\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 500;\n\t\tcursor: pointer;\n\t\tborder-radius: var(--card-radius, 8px);\n\t\ttransition: all 100ms ease-out;\n\t\twhite-space: nowrap;\n\t}\n\n\t.tab:hover {\n\t\tbackground: var(--hover-background, #f1f5f9);\n\t}\n\n\t.tab.active {\n\t\tbackground: var(--primary-color, #2563eb);\n\t\tcolor: #ffffff;\n\t}\n\n\t.search {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.5rem;\n\t\tpadding: 0.5rem 0.75rem;\n\t\tbackground: var(--input-background, #f8fafc);\n\t\tborder: 1px solid var(--border-color, #e2e8f0);\n\t\tborder-radius: var(--card-radius, 8px);\n\t\tcolor: var(--secondary-text, #64748b);\n\t}\n\n\t.search input {\n\t\tborder: none;\n\t\tbackground: none;\n\t\toutline: none;\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--body-text, #334155);\n\t\twidth: 200px;\n\t}\n\n\t.search input::placeholder {\n\t\tcolor: var(--secondary-text, #94a3b8);\n\t}\n\n\t.filter-controls {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.75rem;\n\t}\n\n\t.sort-select {\n\t\tpadding: 0.5rem 0.75rem;\n\t\tborder: 1px solid var(--border-color, #e2e8f0);\n\t\tborder-radius: var(--card-radius, 8px);\n\t\tbackground: var(--input-background, #ffffff);\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--body-text, #334155);\n\t\tcursor: pointer;\n\t}\n\n\t.sort-select:focus {\n\t\toutline: none;\n\t\tborder-color: var(--primary-color, #2563eb);\n\t}\n\n\t.view-toggle {\n\t\tdisplay: flex;\n\t\tborder: 1px solid var(--border-color, #e2e8f0);\n\t\tborder-radius: var(--card-radius, 8px);\n\t\toverflow: hidden;\n\t}\n\n\t.view-btn {\n\t\tpadding: 0.5rem 0.625rem;\n\t\tbackground: var(--input-background, #ffffff);\n\t\tborder: none;\n\t\tcolor: var(--secondary-text, #64748b);\n\t\tcursor: pointer;\n\t\ttransition: all 100ms ease-out;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.view-btn:not(:last-child) {\n\t\tborder-right: 1px solid var(--border-color, #e2e8f0);\n\t}\n\n\t.view-btn:hover {\n\t\tbackground: var(--hover-background, #f1f5f9);\n\t}\n\n\t.view-btn.active {\n\t\tbackground: var(--primary-color, #2563eb);\n\t\tcolor: #ffffff;\n\t}\n\n\t.stat.pipeline .stat-value {\n\t\tcolor: var(--active-color, #22c55e);\n\t}\n\n\t.clients-list {\n\t\tflex: 1;\n\t\tpadding: 1.5rem;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 0.75rem;\n\t\toverflow-y: auto;\n\t}\n\t\n\t.clients-list.table-view {\n\t\tpadding: 0;\n\t}\n\n\t.clients-list.kanban-view {\n\t\tpadding: 1rem;\n\t\toverflow: hidden;\n\t}\n\n\t.client-card {\n\t\tbackground: var(--card-background, #ffffff);\n\t\tborder: 1px solid var(--border-color, #e2e8f0);\n\t\tborder-radius: var(--card-radius, 12px);\n\t\tpadding: 1rem 1.25rem;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t\ttransition: all 100ms ease-out;\n\t}\n\n\t.client-card:hover {\n\t\tborder-color: var(--primary-color, #2563eb);\n\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n\t}\n\n\t.card-main {\n\t\tflex: 1;\n\t}\n\n\t.card-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.5rem;\n\t\tmargin-bottom: 0.25rem;\n\t}\n\n\t.status-dot {\n\t\twidth: 10px;\n\t\theight: 10px;\n\t\tborder-radius: 50%;\n\t\tflex-shrink: 0;\n\t}\n\n\t.client-name {\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-color, #1e293b);\n\t\tfont-size: 1rem;\n\t}\n\n\t.status-badge {\n\t\tpadding: 0.125rem 0.5rem;\n\t\tborder-radius: 9999px;\n\t\tfont-size: 0.75rem;\n\t\tfont-weight: 500;\n\t}\n\n\t.card-details {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.375rem;\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--secondary-text, #64748b);\n\t\tmargin-bottom: 0.25rem;\n\t}\n\n\t.client-value {\n\t\tcolor: var(--active-color, #22c55e);\n\t\tfont-weight: 600;\n\t}\n\n\t.card-contact {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 1rem;\n\t\tfont-size: 0.8125rem;\n\t\tcolor: var(--secondary-text, #64748b);\n\t\tmargin-bottom: 0.375rem;\n\t}\n\n\t.contact-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.375rem;\n\t}\n\n\t.card-notes {\n\t\tfont-size: 0.8125rem;\n\t\tcolor: var(--secondary-text, #94a3b8);\n\t\tfont-style: italic;\n\t\tmargin-bottom: 0.375rem;\n\t}\n\n\t.separator {\n\t\tcolor: var(--border-color, #cbd5e1);\n\t}\n\n\t.card-meta {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.375rem;\n\t\tfont-size: 0.8125rem;\n\t\tcolor: var(--secondary-text, #94a3b8);\n\t}\n\n\t.overdue-text {\n\t\tcolor: var(--overdue-color, #ef4444);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.25rem;\n\t\tfont-weight: 500;\n\t}\n\n\t.card-actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.375rem;\n\t\tflex-shrink: 0;\n\t}\n\n\t.action-btn {\n\t\tposition: relative;\n\t\tpadding: 0.625rem;\n\t\tbackground: var(--hover-background, #f1f5f9);\n\t\tborder: none;\n\t\tborder-radius: var(--card-radius, 8px);\n\t\tcolor: var(--secondary-text, #64748b);\n\t\tcursor: pointer;\n\t\ttransition: all 100ms ease-out;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttext-decoration: none;\n\t}\n\n\t.action-btn:hover {\n\t\tbackground: var(--primary-color, #2563eb);\n\t\tcolor: #ffffff;\n\t}\n\n\t.action-tooltip {\n\t\tposition: absolute;\n\t\tbottom: 100%;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\tpadding: 0.375rem 0.625rem;\n\t\tbackground: var(--heading-color, #1e293b);\n\t\tcolor: #ffffff;\n\t\tfont-size: 0.75rem;\n\t\tfont-weight: 500;\n\t\tborder-radius: 6px;\n\t\twhite-space: nowrap;\n\t\topacity: 0;\n\t\tvisibility: hidden;\n\t\ttransition: all 100ms ease-out;\n\t\tpointer-events: none;\n\t\tmargin-bottom: 0.375rem;\n\t\tz-index: 10;\n\t}\n\n\t.action-tooltip::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 100%;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\tborder: 5px solid transparent;\n\t\tborder-top-color: var(--heading-color, #1e293b);\n\t}\n\n\t.action-btn:hover .action-tooltip {\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t}\n\n\t.log-btn.popped {\n\t\tanimation: pop 150ms cubic-bezier(0.175, 0.885, 0.32, 1.275);\n\t\tbackground: var(--active-color, #22c55e);\n\t\tcolor: #ffffff;\n\t}\n\n\t@keyframes pop {\n\t\t0% { transform: scale(1); }\n\t\t50% { transform: scale(1.3); }\n\t\t100% { transform: scale(1); }\n\t}\n\n\t.loading, .empty {\n\t\ttext-align: center;\n\t\tpadding: 3rem;\n\t\tcolor: var(--secondary-text, #64748b);\n\t}\n\n\t.empty {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 1rem;\n\t\tcolor: var(--border-color, #cbd5e1);\n\t}\n\n\t.empty p {\n\t\tcolor: var(--secondary-text, #94a3b8);\n\t}\n\n\t/* Table View */\n\t.clients-table {\n\t\twidth: 100%;\n\t\tborder-collapse: collapse;\n\t}\n\n\t.clients-table th {\n\t\ttext-align: left;\n\t\tpadding: 0.75rem 1rem;\n\t\tfont-size: 0.75rem;\n\t\tfont-weight: 600;\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t\tcolor: var(--secondary-text, #64748b);\n\t\tbackground: var(--input-background, #f8fafc);\n\t\tborder-bottom: 1px solid var(--border-color, #e2e8f0);\n\t\tposition: sticky;\n\t\ttop: 0;\n\t}\n\n\t.table-row {\n\t\tcursor: pointer;\n\t\ttransition: background 100ms ease-out;\n\t}\n\n\t.table-row:hover {\n\t\tbackground: var(--hover-background, #f8fafc);\n\t}\n\n\t.table-row td {\n\t\tpadding: 0.875rem 1rem;\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--body-text, #334155);\n\t\tborder-bottom: 1px solid var(--border-color, #e2e8f0);\n\t}\n\n\t.cell-name {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.5rem;\n\t\tfont-weight: 500;\n\t\tcolor: var(--heading-color, #1e293b);\n\t}\n\n\t.footer {\n\t\ttext-align: center;\n\t\tpadding: 1rem;\n\t\tfont-size: 0.75rem;\n\t\tcolor: var(--secondary-text, #94a3b8);\n\t}\n\n\t.footer a {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t}\n\n\t.footer a:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\t/* Modal */\n\t.modal-backdrop {\n\t\tposition: fixed;\n\t\tinset: 0;\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 1rem;\n\t\tz-index: 100;\n\t\tanimation: fade-in 100ms ease-out;\n\t}\n\n\t@keyframes fade-in {\n\t\tfrom { opacity: 0; }\n\t\tto { opacity: 1; }\n\t}\n\n\t@keyframes scale-in {\n\t\tfrom { opacity: 0; transform: scale(0.95); }\n\t\tto { opacity: 1; transform: scale(1); }\n\t}\n\n\t.modal {\n\t\tbackground: var(--card-background, #ffffff);\n\t\tborder-radius: var(--card-radius, 12px);\n\t\twidth: 100%;\n\t\tmax-width: 500px;\n\t\tmax-height: 90vh;\n\t\toverflow-y: auto;\n\t\tbox-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n\t\tanimation: scale-in 100ms ease-out;\n\t}\n\n\t.modal-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 1.25rem 1.5rem;\n\t\tborder-bottom: 1px solid var(--border-color, #e2e8f0);\n\t}\n\n\t.modal-header h2 {\n\t\tmargin: 0;\n\t\tfont-size: 1.125rem;\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-color, #1e293b);\n\t}\n\n\t.close-btn {\n\t\tbackground: none;\n\t\tborder: none;\n\t\tcolor: var(--secondary-text, #64748b);\n\t\tcursor: pointer;\n\t\tpadding: 0.25rem;\n\t}\n\n\t.close-btn:hover {\n\t\tcolor: var(--heading-color, #1e293b);\n\t}\n\n\t.modal-body {\n\t\tpadding: 1.5rem;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 1rem;\n\t}\n\n\t.form-row {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tgap: 1rem;\n\t}\n\n\t.form-group {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 0.375rem;\n\t}\n\n\t.form-group label {\n\t\tfont-size: 0.8125rem;\n\t\tfont-weight: 500;\n\t\tcolor: var(--body-text, #334155);\n\t}\n\n\t.form-group input,\n\t.form-group select,\n\t.form-group textarea {\n\t\tpadding: 0.625rem 0.75rem;\n\t\tborder: 1px solid var(--border-color, #e2e8f0);\n\t\tborder-radius: 6px;\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--body-text, #334155);\n\t\tbackground: var(--input-background, #ffffff);\n\t}\n\n\t.form-group input:focus,\n\t.form-group select:focus,\n\t.form-group textarea:focus {\n\t\toutline: none;\n\t\tborder-color: var(--primary-color, #2563eb);\n\t\tbox-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n\t}\n\n\t.form-group textarea {\n\t\tresize: vertical;\n\t\tmin-height: 80px;\n\t}\n\n\t.modal-footer {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 1rem 1.5rem;\n\t\tborder-top: 1px solid var(--border-color, #e2e8f0);\n\t\tbackground: var(--input-background, #f8fafc);\n\t}\n\n\t.footer-actions {\n\t\tdisplay: flex;\n\t\tgap: 0.75rem;\n\t\tmargin-left: auto;\n\t}\n\n\t.delete-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.375rem;\n\t\tpadding: 0.5rem 0.75rem;\n\t\tbackground: none;\n\t\tborder: none;\n\t\tcolor: var(--overdue-color, #ef4444);\n\t\tfont-size: 0.875rem;\n\t\tcursor: pointer;\n\t}\n\n\t.delete-btn:hover {\n\t\tbackground: rgba(239, 68, 68, 0.1);\n\t\tborder-radius: 6px;\n\t}\n\n\t.cancel-btn {\n\t\tpadding: 0.625rem 1rem;\n\t\tbackground: none;\n\t\tborder: 1px solid var(--border-color, #e2e8f0);\n\t\tborder-radius: 6px;\n\t\tcolor: var(--body-text, #334155);\n\t\tfont-weight: 500;\n\t\tcursor: pointer;\n\t}\n\n\t.cancel-btn:hover {\n\t\tbackground: var(--hover-background, #f1f5f9);\n\t}\n\n\t.save-btn {\n\t\tpadding: 0.625rem 1.25rem;\n\t\tbackground: var(--primary-color, #2563eb);\n\t\tcolor: #ffffff;\n\t\tborder: none;\n\t\tborder-radius: 6px;\n\t\tfont-weight: 500;\n\t\tcursor: pointer;\n\t}\n\n\t.save-btn:hover:not(:disabled) {\n\t\topacity: 0.9;\n\t}\n\n\t.save-btn:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\n\t\n\t/* Kanban View */\n\t.kanban-board {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t\tgap: 1rem;\n\t\theight: 100%;\n\t\tmin-height: 0;\n\t}\n\n\t.kanban-column {\n\t\tbackground: var(--input-background, #f8fafc);\n\t\tborder-radius: var(--card-radius, 12px);\n\t\tpadding: 1rem;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 0;\n\t\ttransition: background 100ms ease-out;\n\t}\n\n\t.kanban-column.drag-over {\n\t\tbackground: var(--primary-color, #2563eb);\n\t\tbackground: color-mix(in srgb, var(--primary-color, #2563eb) 10%, var(--input-background, #f8fafc));\n\t}\n\n\t.kanban-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.5rem;\n\t\tmargin-bottom: 0.75rem;\n\t\tpadding-bottom: 0.75rem;\n\t\tborder-bottom: 1px solid var(--border-color, #e2e8f0);\n\t}\n\n\t.kanban-dot {\n\t\twidth: 10px;\n\t\theight: 10px;\n\t\tborder-radius: 50%;\n\t\tflex-shrink: 0;\n\t}\n\n\t.kanban-title {\n\t\tfont-weight: 600;\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--heading-color, #1e293b);\n\t}\n\n\t.kanban-count {\n\t\tbackground: var(--border-color, #e2e8f0);\n\t\tcolor: var(--secondary-text, #64748b);\n\t\tfont-size: 0.75rem;\n\t\tfont-weight: 600;\n\t\tpadding: 0.125rem 0.5rem;\n\t\tborder-radius: 9999px;\n\t\tmargin-left: auto;\n\t}\n\n\t.kanban-cards {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 0.5rem;\n\t\toverflow-y: auto;\n\t\tflex: 1;\n\t\tmin-height: 100px;\n\t}\n\n\t.kanban-card {\n\t\tbackground: var(--card-background, #ffffff);\n\t\tborder: 1px solid var(--border-color, #e2e8f0);\n\t\tborder-radius: 8px;\n\t\tpadding: 0.75rem;\n\t\tcursor: grab;\n\t\ttransition: all 100ms ease-out;\n\t\tuser-select: none;\n\t}\n\n\t.kanban-card:hover {\n\t\tborder-color: var(--primary-color, #2563eb);\n\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n\t}\n\n\t.kanban-card:active {\n\t\tcursor: grabbing;\n\t}\n\n\t.kanban-card.dragging {\n\t\topacity: 0.5;\n\t\ttransform: rotate(2deg);\n\t}\n\n\t.kanban-card-name {\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-color, #1e293b);\n\t\tfont-size: 0.875rem;\n\t\tmargin-bottom: 0.125rem;\n\t}\n\n\t.kanban-card-company {\n\t\tcolor: var(--secondary-text, #64748b);\n\t\tfont-size: 0.8125rem;\n\t\tmargin-bottom: 0.375rem;\n\t}\n\n\t.kanban-card-footer {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.5rem;\n\t\tmargin-top: 0.25rem;\n\t}\n\n\t.kanban-card-value {\n\t\tcolor: var(--active-color, #22c55e);\n\t\tfont-size: 0.75rem;\n\t\tfont-weight: 600;\n\t}\n\n\t.kanban-card-follow {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 0.25rem;\n\t\tcolor: var(--secondary-text, #94a3b8);\n\t\tfont-size: 0.75rem;\n\t\tmargin-left: auto;\n\t}\n\n\n\n\t@media (max-width: 640px) {\n\t\t.header-content {\n\t\t\tflex-direction: column;\n\t\t\talign-items: flex-start;\n\t\t\tgap: 1rem;\n\t\t}\n\n\t\t.add-btn {\n\t\t\twidth: 100%;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t.filters {\n\t\t\tflex-direction: column;\n\t\t\talign-items: stretch;\n\t\t}\n\n\t\t.search {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.search input {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.form-row {\n\t\t\tgrid-template-columns: 1fr;\n\t\t}\n\n\t\t.modal-footer {\n\t\t\tflex-direction: column;\n\t\t\tgap: 1rem;\n\t\t}\n\n\t\t.footer-actions {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.cancel-btn, .save-btn {\n\t\t\tflex: 1;\n\t\t}\n\n\t\t.kanban-board {\n\t\t\tgrid-template-columns: 1fr;\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t.kanban-column {\n\t\t\tmin-width: 280px;\n\t\t}\n\t}\n</style>",
	"design": [
		{
			"id": "font-family",
			"name": "Font Family",
			"css_var": "--font-family",
			"value": "Inter, system-ui, sans-serif",
			"type": "font",
			"description": "Main font for all text"
		},
		{
			"id": "page-background",
			"name": "Page Background",
			"css_var": "--page-background",
			"value": "#f8fafc",
			"type": "color",
			"description": "Overall page background"
		},
		{
			"id": "header-background",
			"name": "Header Background",
			"css_var": "--header-background",
			"value": "#ffffff",
			"type": "color",
			"description": "Header and filter bar background"
		},
		{
			"id": "card-background",
			"name": "Card Background",
			"css_var": "--card-background",
			"value": "#ffffff",
			"type": "color",
			"description": "Client card background"
		},
		{
			"id": "primary-color",
			"name": "Primary Color",
			"css_var": "--primary-color",
			"value": "#2563eb",
			"type": "color",
			"description": "Main brand color for buttons and accents"
		},
		{
			"id": "lead-color",
			"name": "Lead Status Color",
			"css_var": "--lead-color",
			"value": "#eab308",
			"type": "color",
			"description": "Color for lead status"
		},
		{
			"id": "active-color",
			"name": "Active Status Color",
			"css_var": "--active-color",
			"value": "#22c55e",
			"type": "color",
			"description": "Color for active status"
		},
		{
			"id": "inactive-color",
			"name": "Inactive Status Color",
			"css_var": "--inactive-color",
			"value": "#64748b",
			"type": "color",
			"description": "Color for inactive status"
		},
		{
			"id": "overdue-color",
			"name": "Overdue Color",
			"css_var": "--overdue-color",
			"value": "#ef4444",
			"type": "color",
			"description": "Color for overdue follow-ups and churned status"
		},
		{
			"id": "heading-color",
			"name": "Heading Color",
			"css_var": "--heading-color",
			"value": "#1e293b",
			"type": "color",
			"description": "Color for headings and names"
		},
		{
			"id": "body-text",
			"name": "Body Text Color",
			"css_var": "--body-text",
			"value": "#334155",
			"type": "color",
			"description": "Color for body text"
		},
		{
			"id": "secondary-text",
			"name": "Secondary Text Color",
			"css_var": "--secondary-text",
			"value": "#64748b",
			"type": "color",
			"description": "Color for muted and secondary text"
		},
		{
			"id": "border-color",
			"name": "Border Color",
			"css_var": "--border-color",
			"value": "#e2e8f0",
			"type": "color",
			"description": "Border and divider color"
		},
		{
			"id": "card-radius",
			"name": "Card Radius",
			"css_var": "--card-radius",
			"value": "12px",
			"type": "radius",
			"description": "Roundness of cards and buttons"
		}
	],
	"content": [
		{
			"id": "title",
			"name": "Title",
			"type": "text",
			"value": "Client CRM",
			"description": "Main page title"
		},
		{
			"id": "add_button",
			"name": "Add Button Text",
			"type": "text",
			"value": "Add Client",
			"description": "Text on the add client button"
		},
		{
			"id": "search_placeholder",
			"name": "Search Placeholder",
			"type": "text",
			"value": "Search clients...",
			"description": "Placeholder text for search input"
		},
		{
			"id": "empty_state",
			"name": "Empty State Text",
			"type": "text",
			"value": "No clients yet. Add your first one!",
			"description": "Message shown when no clients exist"
		}
	],
	"data": {
		"clients": {
			"schema": [
				{
					"name": "id",
					"type": "text"
				},
				{
					"name": "name",
					"type": "text"
				},
				{
					"name": "company",
					"type": "text"
				},
				{
					"name": "email",
					"type": "text"
				},
				{
					"name": "phone",
					"type": "text"
				},
				{
					"name": "status",
					"type": "text"
				},
				{
					"name": "source",
					"type": "text"
				},
				{
					"name": "notes",
					"type": "text"
				},
				{
					"name": "last_contact",
					"type": "text"
				},
				{
					"name": "next_follow_up",
					"type": "text"
				},
				{
					"name": "value",
					"type": "number"
				}
			],
			"records": [
				{
					"id": "c1",
					"name": "Sarah Chen",
					"company": "Acme Corp",
					"email": "sarah@acme.com",
					"phone": "+1 555-0101",
					"status": "active",
					"source": "referral",
					"notes": "Interested in Q2 project. Budget ~$15k",
					"last_contact": "2024-01-07",
					"next_follow_up": "2024-01-11",
					"value": 15000
				},
				{
					"id": "c2",
					"name": "Mike Johnson",
					"company": "Startup Inc",
					"email": "mike@startup.io",
					"phone": "+1 555-0102",
					"status": "lead",
					"source": "website",
					"notes": "Filled out contact form. Needs proposal.",
					"last_contact": "2023-12-25",
					"next_follow_up": "2024-01-05",
					"value": 8000
				},
				{
					"id": "c3",
					"name": "Lisa Park",
					"company": "",
					"email": "lisa.park@gmail.com",
					"phone": "+1 555-0103",
					"status": "active",
					"source": "social",
					"notes": "Solo consultant, recurring monthly work",
					"last_contact": "2024-01-10",
					"next_follow_up": "",
					"value": 2500
				},
				{
					"id": "c4",
					"name": "David Kim",
					"company": "Tech Solutions",
					"email": "david@techsolutions.com",
					"phone": "",
					"status": "inactive",
					"source": "cold",
					"notes": "Went dark after initial call. Try again in Q2.",
					"last_contact": "2023-11-15",
					"next_follow_up": "2024-04-01",
					"value": 25000
				}
			],
			"icon": "lucide:folder"
		}
	}
}
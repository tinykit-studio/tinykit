{
	"id": "canvas",
	"name": "Canvas",
	"description": "Mini Notion - notes, checklists, links, images, tables in a masonry grid",
	"preview": "lucide:layout-dashboard",
	"tags": [
		"productivity",
		"advanced",
		"data"
	],
	"kits": [
		"developer",
		"business"
	],
	"frontend_code": "<script>\n\timport Icon from \"@iconify/svelte\";\n\timport { proxy } from \"$tinykit\";\n\timport content from \"$content\";\n\timport data from \"$data\";\n\timport { tick } from \"svelte\";\n\timport { fade } from \"svelte/transition\";\n\timport { flip } from \"svelte/animate\";\n\timport imageCompression from \"browser-image-compression\";\n\n\tlet notes = $state([]);\n\tlet deleted_notes = $state([]);\n\tlet loading = $state(true);\n\tlet editing_id = $state(null);\n\tlet show_type_picker = $state(false);\n\tlet show_trash = $state(false);\n\tlet search = $state(\"\");\n\tlet fetching_og = $state(false);\n\n\tlet dragging_id = $state(null);\n\tlet drag_over_id = $state(null);\n\tlet drag_position = $state(null);\n\n\t$effect(() => {\n\t\tconst unsubscribe = data.notes.subscribe((items) => {\n\t\t\tconst snapshot = $state.snapshot(items);\n\t\t\tconst seen = new Set();\n\t\t\tnotes = snapshot.filter((n) => {\n\t\t\t\tif (seen.has(n.id)) return false;\n\t\t\t\tseen.add(n.id);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tloading = false;\n\t\t});\n\t\treturn unsubscribe;\n\t});\n\n\t$effect(() => {\n\t\tconst unsubscribe = data.deleted_notes.subscribe((items) => {\n\t\t\tconst snapshot = $state.snapshot(items);\n\t\t\tconst seen = new Set();\n\t\t\tdeleted_notes = snapshot.filter((n) => {\n\t\t\t\tif (seen.has(n.id)) return false;\n\t\t\t\tseen.add(n.id);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t});\n\t\treturn unsubscribe;\n\t});\n\n\tlet filtered_notes = $derived.by(() => {\n\t\tconst sorted = [...notes].sort((a, b) => {\n\t\t\tif (a.pinned && !b.pinned) return -1;\n\t\t\tif (!a.pinned && b.pinned) return 1;\n\t\t\tif (a.order !== undefined && b.order !== undefined)\n\t\t\t\treturn a.order - b.order;\n\t\t\treturn new Date(b.updated) - new Date(a.updated);\n\t\t});\n\t\tif (!search) return sorted;\n\t\tconst q = search.toLowerCase();\n\t\treturn sorted.filter((n) => {\n\t\t\tif (n.title?.toLowerCase().includes(q)) return true;\n\t\t\tif (n.type === \"text\" && n.body?.toLowerCase().includes(q)) return true;\n\t\t\tif (\n\t\t\t\tn.type === \"checklist\" &&\n\t\t\t\tparse_json(n.items, []).some((i) => i.text.toLowerCase().includes(q))\n\t\t\t)\n\t\t\t\treturn true;\n\t\t\tif (\n\t\t\t\tn.type === \"link\" &&\n\t\t\t\t(n.url?.toLowerCase().includes(q) ||\n\t\t\t\t\tn.link_title?.toLowerCase().includes(q))\n\t\t\t)\n\t\t\t\treturn true;\n\t\t\tif (n.type === \"embed\" && n.embed_code?.toLowerCase().includes(q))\n\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t});\n\t});\n\n\tlet trash_count = $derived(deleted_notes.length);\n\tlet editing_note = $derived(\n\t\tediting_id ? notes.find((n) => n.id === editing_id) : null,\n\t);\n\n\tfunction parse_json(str, fallback) {\n\t\tif (!str) return fallback;\n\t\tif (typeof str === \"object\") return str;\n\t\ttry {\n\t\t\treturn JSON.parse(str);\n\t\t} catch {\n\t\t\treturn fallback;\n\t\t}\n\t}\n\n\tasync function fetch_og_data(url, noteId) {\n\t\tif (!url || fetching_og) return;\n\t\ttry {\n\t\t\tfetching_og = true;\n\t\t\tconst html = await proxy.text(url);\n\t\t\tconst doc = new DOMParser().parseFromString(html, \"text/html\");\n\t\t\tconst updates = {};\n\t\t\tconst og_image = doc.querySelector('meta[property=\"og:image\"]')?.content;\n\t\t\tconst og_title =\n\t\t\t\tdoc.querySelector('meta[property=\"og:title\"]')?.content ||\n\t\t\t\tdoc.querySelector(\"title\")?.textContent;\n\t\t\tconst og_desc =\n\t\t\t\tdoc.querySelector('meta[property=\"og:description\"]')?.content ||\n\t\t\t\tdoc.querySelector('meta[name=\"description\"]')?.content;\n\t\t\tif (og_image) updates.link_image = og_image;\n\t\t\tif (og_title) updates.link_title = og_title;\n\t\t\tif (og_desc) updates.link_desc = og_desc;\n\t\t\tif (Object.keys(updates).length > 0 && noteId)\n\t\t\t\tawait update_note(noteId, updates);\n\t\t} catch (e) {\n\t\t\tconsole.warn(\"Failed to fetch OG data:\", e);\n\t\t} finally {\n\t\t\tfetching_og = false;\n\t\t}\n\t}\n\n\tfunction handle_url_paste(e, noteId) {\n\t\tconst pasted = e.clipboardData?.getData(\"text\") || \"\";\n\t\tif (pasted.match(/^https?:\\/\\//))\n\t\t\tsetTimeout(() => fetch_og_data(pasted, noteId), 100);\n\t}\n\n\tasync function handle_global_paste(e) {\n\t\tif (\n\t\t\te.target.tagName === \"INPUT\" ||\n\t\t\te.target.tagName === \"TEXTAREA\" ||\n\t\t\te.target.isContentEditable\n\t\t)\n\t\t\treturn;\n\t\tconst pasted = e.clipboardData?.getData(\"text\") || \"\";\n\t\tif (pasted.trim().startsWith(\"<iframe\")) {\n\t\t\te.preventDefault();\n\t\t\tawait create_embed_note(pasted.trim());\n\t\t}\n\t}\n\n\tasync function create_embed_note(embed_code) {\n\t\tconst maxOrder = Math.max(0, ...notes.map((n) => n.order ?? 0));\n\t\tconst created = await data.notes.create({\n\t\t\ttype: \"embed\",\n\t\t\ttitle: \"\",\n\t\t\tembed_code,\n\t\t\torder: maxOrder + 1,\n\t\t\tupdated: new Date().toISOString(),\n\t\t\tcreated: new Date().toISOString(),\n\t\t});\n\t\tawait tick();\n\t\tediting_id = created.id;\n\t}\n\n\tasync function create_note(type) {\n\t\tshow_type_picker = false;\n\t\tconst maxOrder = Math.max(0, ...notes.map((n) => n.order ?? 0));\n\t\tconst base = {\n\t\t\ttype,\n\t\t\ttitle: \"\",\n\t\t\torder: maxOrder + 1,\n\t\t\tupdated: new Date().toISOString(),\n\t\t\tcreated: new Date().toISOString(),\n\t\t};\n\t\tlet note_data = { ...base };\n\t\tif (type === \"checklist\")\n\t\t\tnote_data.items = JSON.stringify([\n\t\t\t\t{ id: Date.now().toString(), text: \"\", done: false },\n\t\t\t]);\n\t\tif (type === \"table\")\n\t\t\tnote_data.rows = JSON.stringify([\n\t\t\t\t[\"\", \"\"],\n\t\t\t\t[\"\", \"\"],\n\t\t\t]);\n\t\tif (type === \"text\") note_data.body = \"\";\n\t\tif (type === \"link\") note_data.url = \"\";\n\t\tif (type === \"image\") note_data.src = \"\";\n\t\tif (type === \"embed\") note_data.embed_code = \"\";\n\t\tconst created = await data.notes.create(note_data);\n\t\tawait tick();\n\t\tediting_id = created.id;\n\t}\n\n\tasync function update_note(id, updates) {\n\t\tawait data.notes.update(id, {\n\t\t\t...updates,\n\t\t\tupdated: new Date().toISOString(),\n\t\t});\n\t}\n\n\tasync function delete_note(id) {\n\t\tconst note = notes.find((n) => n.id === id);\n\t\tif (!note) return;\n\t\tediting_id = null;\n\t\tawait tick();\n\t\tconst { id: _, ...noteData } = note;\n\t\tawait data.deleted_notes.create({\n\t\t\t...noteData,\n\t\t\tdeleted_at: new Date().toISOString(),\n\t\t});\n\t\tawait data.notes.delete(id);\n\t}\n\n\tasync function restore_note(id) {\n\t\tconst note = deleted_notes.find((n) => n.id === id);\n\t\tif (!note) return;\n\t\tconst { id: _, deleted_at, ...noteData } = note;\n\t\tawait data.notes.create({ ...noteData, updated: new Date().toISOString() });\n\t\tawait data.deleted_notes.delete(id);\n\t}\n\n\tasync function permanently_delete(id) {\n\t\tawait data.deleted_notes.delete(id);\n\t}\n\n\tasync function empty_trash() {\n\t\tif (\n\t\t\t!confirm(\"Permanently delete all items in trash? This cannot be undone.\")\n\t\t)\n\t\t\treturn;\n\t\tawait Promise.all(\n\t\t\tdeleted_notes.map((n) => data.deleted_notes.delete(n.id)),\n\t\t);\n\t}\n\n\tfunction handle_keydown(e) {\n\t\tif (e.key === \"Escape\") {\n\t\t\tediting_id = null;\n\t\t\tshow_type_picker = false;\n\t\t\tshow_trash = false;\n\t\t}\n\t}\n\n\tfunction handle_drag_start(e, noteId) {\n\t\tdragging_id = noteId;\n\t\te.dataTransfer.effectAllowed = \"move\";\n\t\te.dataTransfer.setData(\"text/plain\", noteId);\n\t}\n\n\tfunction handle_drag_end() {\n\t\tdragging_id = null;\n\t\tdrag_over_id = null;\n\t\tdrag_position = null;\n\t}\n\n\tfunction handle_drag_over(e, noteId) {\n\t\te.preventDefault();\n\t\te.dataTransfer.dropEffect = \"move\";\n\t\tif (noteId === dragging_id) return;\n\t\tdrag_over_id = noteId;\n\t\tconst rect = e.currentTarget.getBoundingClientRect();\n\t\tdrag_position = e.clientY < rect.top + rect.height / 2 ? \"before\" : \"after\";\n\t}\n\n\tfunction handle_drag_leave(e) {\n\t\tif (!e.currentTarget.contains(e.relatedTarget)) {\n\t\t\tdrag_over_id = null;\n\t\t\tdrag_position = null;\n\t\t}\n\t}\n\n\tasync function handle_drop(e, targetNoteId) {\n\t\te.preventDefault();\n\t\tif (!dragging_id || dragging_id === targetNoteId) {\n\t\t\thandle_drag_end();\n\t\t\treturn;\n\t\t}\n\t\tconst orderedNotes = [...filtered_notes];\n\t\tconst draggedIndex = orderedNotes.findIndex((n) => n.id === dragging_id);\n\t\tconst targetIndex = orderedNotes.findIndex((n) => n.id === targetNoteId);\n\t\tif (draggedIndex === -1 || targetIndex === -1) {\n\t\t\thandle_drag_end();\n\t\t\treturn;\n\t\t}\n\t\tconst [draggedNote] = orderedNotes.splice(draggedIndex, 1);\n\t\tlet newIndex = targetIndex;\n\t\tif (draggedIndex < targetIndex) newIndex--;\n\t\tif (drag_position === \"after\") newIndex++;\n\t\torderedNotes.splice(newIndex, 0, draggedNote);\n\t\tawait Promise.all(\n\t\t\torderedNotes.map((note, index) =>\n\t\t\t\tdata.notes.update(note.id, { order: index }),\n\t\t\t),\n\t\t);\n\t\thandle_drag_end();\n\t}\n\n\tfunction get_items_for_note(noteId) {\n\t\tconst note = notes.find((n) => n.id === noteId);\n\t\treturn note ? parse_json(note.items, []) : [];\n\t}\n\n\tfunction get_rows_for_note(noteId) {\n\t\tconst note = notes.find((n) => n.id === noteId);\n\t\treturn note\n\t\t\t? parse_json(note.rows, [\n\t\t\t\t\t[\"\", \"\"],\n\t\t\t\t\t[\"\", \"\"],\n\t\t\t\t])\n\t\t\t: [\n\t\t\t\t\t[\"\", \"\"],\n\t\t\t\t\t[\"\", \"\"],\n\t\t\t\t];\n\t}\n\n\tasync function toggle_item(noteId, item_id) {\n\t\tconst items = get_items_for_note(noteId);\n\t\tawait update_note(noteId, {\n\t\t\titems: JSON.stringify(\n\t\t\t\titems.map((i) => (i.id === item_id ? { ...i, done: !i.done } : i)),\n\t\t\t),\n\t\t});\n\t}\n\n\tasync function update_item_text(noteId, item_id, text) {\n\t\tconst items = get_items_for_note(noteId);\n\t\tawait update_note(noteId, {\n\t\t\titems: JSON.stringify(\n\t\t\t\titems.map((i) => (i.id === item_id ? { ...i, text } : i)),\n\t\t\t),\n\t\t});\n\t}\n\n\tasync function add_item(noteId) {\n\t\tconst items = get_items_for_note(noteId);\n\t\tawait update_note(noteId, {\n\t\t\titems: JSON.stringify([\n\t\t\t\t...items,\n\t\t\t\t{ id: Date.now().toString(), text: \"\", done: false },\n\t\t\t]),\n\t\t});\n\t}\n\n\tasync function remove_item(noteId, item_id) {\n\t\tconst items = get_items_for_note(noteId);\n\t\tif (items.length > 1)\n\t\t\tawait update_note(noteId, {\n\t\t\t\titems: JSON.stringify(items.filter((i) => i.id !== item_id)),\n\t\t\t});\n\t}\n\n\tasync function update_cell(noteId, r, c, val) {\n\t\tconst rows = get_rows_for_note(noteId);\n\t\tawait update_note(noteId, {\n\t\t\trows: JSON.stringify(\n\t\t\t\trows.map((row, ri) =>\n\t\t\t\t\tri === r ? row.map((cell, ci) => (ci === c ? val : cell)) : row,\n\t\t\t\t),\n\t\t\t),\n\t\t});\n\t}\n\n\tasync function add_row(noteId) {\n\t\tconst rows = get_rows_for_note(noteId);\n\t\tawait update_note(noteId, {\n\t\t\trows: JSON.stringify([...rows, new Array(rows[0]?.length || 2).fill(\"\")]),\n\t\t});\n\t}\n\n\tasync function add_col(noteId) {\n\t\tconst rows = get_rows_for_note(noteId);\n\t\tawait update_note(noteId, {\n\t\t\trows: JSON.stringify(rows.map((r) => [...r, \"\"])),\n\t\t});\n\t}\n\n\tasync function remove_row(noteId, idx) {\n\t\tconst rows = get_rows_for_note(noteId);\n\t\tif (rows.length > 1)\n\t\t\tawait update_note(noteId, {\n\t\t\t\trows: JSON.stringify(rows.filter((_, i) => i !== idx)),\n\t\t\t});\n\t}\n\n\tasync function handle_image_upload(noteId, e) {\n\t\tconst file = e.target.files?.[0];\n\t\tif (!file) return;\n\t\ttry {\n\t\t\tconst compressedFile = await imageCompression(file, {\n\t\t\t\tmaxSizeMB: 0.05,\n\t\t\t\tmaxWidthOrHeight: 1200,\n\t\t\t\tuseWebWorker: true,\n\t\t\t});\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = () => update_note(noteId, { src: reader.result });\n\t\t\treader.readAsDataURL(compressedFile);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Image compression failed:\", err);\n\t\t}\n\t}\n\n\tfunction handle_text_keydown(e) {\n\t\tif (e.metaKey || e.ctrlKey) {\n\t\t\tif (e.key === \"b\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tdocument.execCommand(\"bold\");\n\t\t\t}\n\t\t\tif (e.key === \"i\") {\n\t\t\t\te.preventDefault();\n\t\t\t\tdocument.execCommand(\"italic\");\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handle_checklist_keydown(e, noteId, itemId) {\n\t\tif (e.key === \"Enter\") {\n\t\t\te.preventDefault();\n\t\t\tconst currentLength = get_items_for_note(noteId).length;\n\t\t\tadd_item(noteId);\n\t\t\tsetTimeout(\n\t\t\t\t() =>\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.querySelectorAll(\".checklist-editor input[type=text]\")\n\t\t\t\t\t\t[currentLength]?.focus(),\n\t\t\t\t50,\n\t\t\t);\n\t\t}\n\t\tif (e.key === \"Backspace\" && !e.target.value) {\n\t\t\tconst items = get_items_for_note(noteId);\n\t\t\tif (items.length > 1) {\n\t\t\t\te.preventDefault();\n\t\t\t\tremove_item(noteId, itemId);\n\t\t\t}\n\t\t}\n\t}\n\n\tlet text_editor_el = $state(null);\n\tlet text_editor_initial = $state(\"\");\n\n\t$effect(() => {\n\t\tif (editing_note?.type === \"text\")\n\t\t\ttext_editor_initial = editing_note.body || \"\";\n\t});\n\t$effect(() => {\n\t\tif (\n\t\t\ttext_editor_el &&\n\t\t\tediting_note?.type === \"text\" &&\n\t\t\ttext_editor_el.innerHTML !== text_editor_initial\n\t\t)\n\t\t\ttext_editor_el.innerHTML = text_editor_initial;\n\t});\n\n\tfunction handle_text_input(e) {\n\t\tupdate_note(editing_id, { body: e.target.innerHTML });\n\t}\n\n\tconst type_icons = {\n\t\ttext: \"lucide:file-text\",\n\t\tchecklist: \"lucide:check-square\",\n\t\tlink: \"lucide:link\",\n\t\timage: \"lucide:image\",\n\t\tembed: \"lucide:code\",\n\t\ttable: \"lucide:table\",\n\t};\n\tfunction get_type_icon(type) {\n\t\treturn type_icons[type] || \"lucide:file\";\n\t}\n\n\tfunction format_relative_time(dateStr) {\n\t\tconst diff = new Date() - new Date(dateStr);\n\t\tconst mins = Math.floor(diff / 60000);\n\t\tconst hours = Math.floor(diff / 3600000);\n\t\tconst days = Math.floor(diff / 86400000);\n\t\tif (mins < 1) return \"Just now\";\n\t\tif (mins < 60) return `${mins}m ago`;\n\t\tif (hours < 24) return `${hours}h ago`;\n\t\tif (days < 7) return `${days}d ago`;\n\t\treturn new Date(dateStr).toLocaleDateString();\n\t}\n</script>\n\n{#snippet iconButton(icon, onclick, className = \"\", title = \"\")}\n\t<button class={className} {onclick} {title}\n\t\t><Icon {icon} width={18} /></button>\n{/snippet}\n\n{#snippet typePickerButton(type, icon, label)}\n\t<button onclick={() => create_note(type)}\n\t\t><Icon {icon} width={20} /><span>{label}</span></button>\n{/snippet}\n\n{#snippet notePreview(note)}\n\t{@const items = parse_json(note.items, [])}\n\t{@const rows = parse_json(note.rows, [\n\t\t[\"\", \"\"],\n\t\t[\"\", \"\"],\n\t])}\n\t{#if note.type === \"text\"}\n\t\t<div class=\"card-body text-preview\">\n\t\t\t{@html note.body || '<span class=\"muted\">Empty note</span>'}\n\t\t</div>\n\t{:else if note.type === \"checklist\"}\n\t\t<div class=\"card-body checklist-preview\">\n\t\t\t{#each items as item}\n\t\t\t\t<button\n\t\t\t\t\tclass=\"check-item-btn\"\n\t\t\t\t\tclass:done={item.done}\n\t\t\t\t\tonclick={(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\ttoggle_item(note.id, item.id);\n\t\t\t\t\t}}>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon={item.done ? \"lucide:check-square\" : \"lucide:square\"}\n\t\t\t\t\t\twidth={16} />\n\t\t\t\t\t<span>{item.text || \"Empty item\"}</span>\n\t\t\t\t</button>\n\t\t\t{/each}\n\t\t</div>\n\t{:else if note.type === \"link\"}\n\t\t<div class=\"card-body link-preview\">\n\t\t\t{#if note.link_image}<img\n\t\t\t\t\tsrc={note.link_image}\n\t\t\t\t\talt=\"\"\n\t\t\t\t\tclass=\"link-img\" />{/if}\n\t\t\t<a\n\t\t\t\thref={note.url}\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\tclass=\"link-title\"\n\t\t\t\tonclick={(e) => e.stopPropagation()}\n\t\t\t\t>{note.link_title || note.url || \"No URL\"}</a>\n\t\t\t{#if note.link_desc}<div class=\"link-desc\">{note.link_desc}</div>{/if}\n\t\t</div>\n\t{:else if note.type === \"image\"}\n\t\t<div class=\"card-body image-preview\">\n\t\t\t{#if note.src}<img src={note.src} alt={note.caption || \"\"} />{:else}<div\n\t\t\t\t\tclass=\"no-image\">\n\t\t\t\t\t<Icon icon=\"lucide:image\" width={32} />\n\t\t\t\t</div>{/if}\n\t\t\t{#if note.caption}<div class=\"caption\">{note.caption}</div>{/if}\n\t\t</div>\n\t{:else if note.type === \"table\"}\n\t\t<div class=\"card-body table-preview\">\n\t\t\t<table>\n\t\t\t\t{#each rows.slice(0, 4) as row}<tr\n\t\t\t\t\t\t>{#each row.slice(0, 3) as cell}<td>{cell || \"\"}</td\n\t\t\t\t\t\t\t>{/each}{#if row.length > 3}<td class=\"more\">...</td>{/if}</tr\n\t\t\t\t\t>{/each}\n\t\t\t</table>\n\t\t\t{#if rows.length > 4}<div class=\"more\">+{rows.length - 4} rows</div>{/if}\n\t\t</div>\n\t{:else if note.type === \"embed\"}\n\t\t<div class=\"card-body embed-preview-active\">\n\t\t\t{#if note.embed_code}\n\t\t\t\t<div class=\"embed-wrapper\">{@html note.embed_code}</div>\n\t\t\t{:else}\n\t\t\t\t<div class=\"no-embed\">\n\t\t\t\t\t<Icon icon=\"lucide:code\" width={32} />\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t{/if}\n{/snippet}\n\n{#snippet noteEditor(note)}\n\t{@const items = parse_json(note.items, [])}\n\t{@const rows = parse_json(note.rows, [\n\t\t[\"\", \"\"],\n\t\t[\"\", \"\"],\n\t])}\n\t{#if note.type === \"text\"}\n\t\t<div\n\t\t\tclass=\"text-editor\"\n\t\t\tcontenteditable=\"true\"\n\t\t\tbind:this={text_editor_el}\n\t\t\toninput={handle_text_input}\n\t\t\tonkeydown={handle_text_keydown}\n\t\t\tdata-placeholder=\"Start writing... (\u2318B bold, \u2318I italic)\">\n\t\t</div>\n\t{:else if note.type === \"checklist\"}\n\t\t<div class=\"checklist-editor\">\n\t\t\t{#each items as item}\n\t\t\t\t<div class=\"check-row\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"check-toggle\"\n\t\t\t\t\t\tonclick={() => toggle_item(editing_id, item.id)}\n\t\t\t\t\t\t><Icon\n\t\t\t\t\t\t\ticon={item.done ? \"lucide:check-square\" : \"lucide:square\"}\n\t\t\t\t\t\t\twidth={20} /></button>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={item.text}\n\t\t\t\t\t\toninput={(e) =>\n\t\t\t\t\t\t\tupdate_item_text(editing_id, item.id, e.target.value)}\n\t\t\t\t\t\tonkeydown={(e) => handle_checklist_keydown(e, editing_id, item.id)}\n\t\t\t\t\t\tplaceholder=\"List item...\"\n\t\t\t\t\t\tclass:done={item.done} />\n\t\t\t\t</div>\n\t\t\t{/each}\n\t\t\t<button class=\"add-item\" onclick={() => add_item(editing_id)}\n\t\t\t\t><Icon icon=\"lucide:plus\" width={16} /><span>Add item</span></button>\n\t\t</div>\n\t{:else if note.type === \"link\"}\n\t\t<div class=\"link-editor\">\n\t\t\t<input\n\t\t\t\ttype=\"url\"\n\t\t\t\tvalue={note.url || \"\"}\n\t\t\t\toninput={(e) => update_note(editing_id, { url: e.target.value })}\n\t\t\t\tonpaste={(e) => handle_url_paste(e, editing_id)}\n\t\t\t\tplaceholder=\"https://...\" />\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={note.link_title || \"\"}\n\t\t\t\toninput={(e) => update_note(editing_id, { link_title: e.target.value })}\n\t\t\t\tplaceholder=\"Link title\" />\n\t\t\t<textarea\n\t\t\t\tvalue={note.link_desc || \"\"}\n\t\t\t\toninput={(e) => update_note(editing_id, { link_desc: e.target.value })}\n\t\t\t\tplaceholder=\"Description (optional)\"\n\t\t\t\trows=\"2\"></textarea>\n\t\t\t<input\n\t\t\t\ttype=\"url\"\n\t\t\t\tvalue={note.link_image || \"\"}\n\t\t\t\toninput={(e) => update_note(editing_id, { link_image: e.target.value })}\n\t\t\t\tplaceholder=\"Preview image URL (optional)\" />\n\t\t</div>\n\t{:else if note.type === \"image\"}\n\t\t<div class=\"image-editor\">\n\t\t\t{#if note.src}\n\t\t\t\t<img src={note.src} alt=\"\" class=\"preview\" />\n\t\t\t\t<button\n\t\t\t\t\tclass=\"remove-img\"\n\t\t\t\t\tonclick={() => update_note(editing_id, { src: \"\" })}\n\t\t\t\t\t><Icon icon=\"lucide:x\" width={16} />Remove</button>\n\t\t\t{:else}\n\t\t\t\t<label class=\"upload-area\"\n\t\t\t\t\t><Icon icon=\"lucide:upload\" width={24} /><span>Click to upload</span\n\t\t\t\t\t><input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tonchange={(e) => handle_image_upload(editing_id, e)}\n\t\t\t\t\t\thidden /></label>\n\t\t\t\t<div class=\"or\">or</div>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"url\"\n\t\t\t\t\tvalue={note.src || \"\"}\n\t\t\t\t\toninput={(e) => update_note(editing_id, { src: e.target.value })}\n\t\t\t\t\tplaceholder=\"Paste image URL\" />\n\t\t\t{/if}\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={note.caption || \"\"}\n\t\t\t\toninput={(e) => update_note(editing_id, { caption: e.target.value })}\n\t\t\t\tplaceholder=\"Caption (optional)\"\n\t\t\t\tclass=\"caption-input\" />\n\t\t</div>\n\t{:else if note.type === \"table\"}\n\t\t<div class=\"table-editor\">\n\t\t\t<div class=\"table-scroll\">\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{#each rows as row, ri}\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{#each row as cell, ci}<td\n\t\t\t\t\t\t\t\t\t\t><input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={cell}\n\t\t\t\t\t\t\t\t\t\t\toninput={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\tupdate_cell(editing_id, ri, ci, e.target.value)} /></td\n\t\t\t\t\t\t\t\t\t>{/each}\n\t\t\t\t\t\t\t\t<td class=\"row-action\"\n\t\t\t\t\t\t\t\t\t><button\n\t\t\t\t\t\t\t\t\t\tonclick={() => remove_row(editing_id, ri)}\n\t\t\t\t\t\t\t\t\t\ttitle=\"Remove row\"\n\t\t\t\t\t\t\t\t\t\t><Icon icon=\"lucide:minus\" width={14} /></button\n\t\t\t\t\t\t\t\t\t></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div class=\"table-actions\">\n\t\t\t\t<button onclick={() => add_row(editing_id)}\n\t\t\t\t\t><Icon icon=\"lucide:plus\" width={14} /> Row</button>\n\t\t\t\t<button onclick={() => add_col(editing_id)}\n\t\t\t\t\t><Icon icon=\"lucide:plus\" width={14} /> Column</button>\n\t\t\t</div>\n\t\t</div>\n\t{:else if note.type === \"embed\"}\n\t\t<div class=\"embed-editor\">\n\t\t\t<textarea\n\t\t\t\tvalue={note.embed_code || \"\"}\n\t\t\t\toninput={(e) => update_note(editing_id, { embed_code: e.target.value })}\n\t\t\t\tplaceholder=\"Paste iframe embed code here...\"\n\t\t\t\trows=\"4\"></textarea>\n\t\t\t{#if note.embed_code}\n\t\t\t\t<div class=\"embed-preview-frame\">{@html note.embed_code}</div>\n\t\t\t{:else}\n\t\t\t\t<div class=\"embed-placeholder\">\n\t\t\t\t\t<Icon icon=\"lucide:code\" width={32} />\n\t\t\t\t\t<p>Paste an embed code (iframe) from YouTube, Vimeo, Spotify, etc.</p>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t{/if}\n{/snippet}\n\n{#snippet trashItem(note)}\n\t<div class=\"trash-item\">\n\t\t<div class=\"trash-item-icon\">\n\t\t\t<Icon icon={get_type_icon(note.type)} width={18} />\n\t\t</div>\n\t\t<div class=\"trash-item-info\">\n\t\t\t<div class=\"trash-item-title\">\n\t\t\t\t{note.title || `Untitled ${note.type}`}\n\t\t\t</div>\n\t\t\t<div class=\"trash-item-meta\">\n\t\t\t\tDeleted {format_relative_time(note.deleted_at)}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"trash-item-actions\">\n\t\t\t<button\n\t\t\t\tclass=\"restore-btn\"\n\t\t\t\tonclick={() => restore_note(note.id)}\n\t\t\t\ttitle=\"Restore\"><Icon icon=\"lucide:undo-2\" width={16} /></button>\n\t\t\t<button\n\t\t\t\tclass=\"delete-forever-btn\"\n\t\t\t\tonclick={() => permanently_delete(note.id)}\n\t\t\t\ttitle=\"Delete forever\"><Icon icon=\"lucide:x\" width={16} /></button>\n\t\t</div>\n\t</div>\n{/snippet}\n\n{#snippet noteCard(note)}\n\t{@const isDragOver = drag_over_id === note.id}\n\t<div\n\t\tclass=\"card-wrapper\"\n\t\tclass:drag-over-before={isDragOver && drag_position === \"before\"}\n\t\tclass:drag-over-after={isDragOver && drag_position === \"after\"}>\n\t\t<div\n\t\t\tclass=\"card\"\n\t\t\tclass:dragging={dragging_id === note.id}\n\t\t\tdraggable=\"true\"\n\t\t\tondragstart={(e) => handle_drag_start(e, note.id)}\n\t\t\tondragend={handle_drag_end}\n\t\t\tondragover={(e) => handle_drag_over(e, note.id)}\n\t\t\tondragleave={handle_drag_leave}\n\t\t\tondrop={(e) => handle_drop(e, note.id)}>\n\t\t\t<div class=\"card-header\" style:margin-bottom={note.title ? '0.5rem' : ''}>\n\t\t\t\t{#if note.title}<div class=\"card-title\">{note.title}</div>{:else}<div>\n\t\t\t\t\t</div>{/if} \n\t\t\t\t<div class=\"card-actions\">\n\t\t\t\t\t{#if note.pinned}\n\t\t\t\t\t\t<div class=\"pin-indicator\">\n\t\t\t\t\t\t\t<Icon icon=\"lucide:pin\" width={14} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"edit-card-btn\"\n\t\t\t\t\t\tonclick={() => (editing_id = note.id)}\n\t\t\t\t\t\ttitle=\"Edit\">\n\t\t\t\t\t\t<Icon icon=\"lucide:pencil\" width={14} />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{@render notePreview(note)}\n\t\t</div>\n\t</div>\n{/snippet}\n\n<svelte:window onkeydown={handle_keydown} onpaste={handle_global_paste} />\n\n<div class=\"app\">\n\t<header class=\"header\">\n\t\t<h1>{content.app_title}</h1>\n\t\t<div class=\"search-wrap\">\n\t\t\t<Icon icon=\"lucide:search\" width={18} />\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tbind:value={search}\n\t\t\t\tplaceholder={content.search_placeholder} />\n\t\t</div>\n\t\t<button class=\"trash-btn\" onclick={() => (show_trash = true)} title=\"Trash\">\n\t\t\t<Icon icon=\"lucide:trash-2\" width={20} />\n\t\t\t{#if trash_count > 0}<span class=\"trash-badge\">{trash_count}</span>{/if}\n\t\t</button>\n\t</header>\n\n\t<main class=\"main\">\n\t\t{#if loading}\n\t\t\t<p class=\"empty\">{content.loading}</p>\n\t\t{:else if filtered_notes.length === 0}\n\t\t\t<p class=\"empty\">{search ? content.no_results : content.empty}</p>\n\t\t{:else}\n\t\t\t<div class=\"masonry\">\n\t\t\t\t{#each filtered_notes as note (note.id)}\n\t\t\t\t\t<div in:fade={{ duration: 200 }} animate:flip={{ duration: 200 }}>{@render noteCard(note)}</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{/if}\n\t</main>\n\n\t<button class=\"fab\" onclick={() => (show_type_picker = true)}\n\t\t><Icon icon=\"lucide:plus\" width={24} /></button>\n\n\t{#if show_type_picker}\n\t\t<div\n\t\t\tclass=\"overlay\"\n\t\t\trole=\"presentation\"\n\t\t\tonclick={() => (show_type_picker = false)}\n\t\t\ttransition:fade={{ duration: 100 }}>\n\t\t\t<div class=\"picker\" role=\"dialog\" onclick={(e) => e.stopPropagation()}>\n\t\t\t\t{@render typePickerButton(\"text\", \"lucide:file-text\", \"Text\")}\n\t\t\t\t{@render typePickerButton(\n\t\t\t\t\t\"checklist\",\n\t\t\t\t\t\"lucide:check-square\",\n\t\t\t\t\t\"Checklist\",\n\t\t\t\t)}\n\t\t\t\t{@render typePickerButton(\"link\", \"lucide:link\", \"Link\")}\n\t\t\t\t{@render typePickerButton(\"image\", \"lucide:image\", \"Image\")}\n\t\t\t\t{@render typePickerButton(\"table\", \"lucide:table\", \"Table\")}\n\t\t\t\t{@render typePickerButton(\"embed\", \"lucide:code\", \"Embed\")}\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n\n\t{#if show_trash}\n\t\t<div\n\t\t\tclass=\"overlay\"\n\t\t\trole=\"presentation\"\n\t\t\tonclick={() => (show_trash = false)}\n\t\t\ttransition:fade={{ duration: 100 }}>\n\t\t\t<div\n\t\t\t\tclass=\"trash-modal\"\n\t\t\t\trole=\"dialog\"\n\t\t\t\tonclick={(e) => e.stopPropagation()}>\n\t\t\t\t<div class=\"trash-header\">\n\t\t\t\t\t<h2><Icon icon=\"lucide:trash-2\" width={20} /> Trash</h2>\n\t\t\t\t\t{@render iconButton(\n\t\t\t\t\t\t\"lucide:x\",\n\t\t\t\t\t\t() => (show_trash = false),\n\t\t\t\t\t\t\"close-btn\",\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"trash-body\">\n\t\t\t\t\t{#if deleted_notes.length === 0}\n\t\t\t\t\t\t<div class=\"trash-empty\">\n\t\t\t\t\t\t\t<Icon icon=\"lucide:trash-2\" width={48} />\n\t\t\t\t\t\t\t<p>Trash is empty</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div class=\"trash-list\">\n\t\t\t\t\t\t\t{#each deleted_notes as note}{@render trashItem(note)}{/each}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t\t{#if deleted_notes.length > 0}\n\t\t\t\t\t<div class=\"trash-footer\">\n\t\t\t\t\t\t<button class=\"empty-trash-btn\" onclick={empty_trash}\n\t\t\t\t\t\t\t><Icon icon=\"lucide:trash-2\" width={16} />Empty Trash</button>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n\n\t{#if editing_note}\n\t\t<div\n\t\t\tclass=\"overlay\"\n\t\t\trole=\"presentation\"\n\t\t\tonclick={() => (editing_id = null)}\n\t\t\ttransition:fade={{ duration: 100 }}>\n\t\t\t<div\n\t\t\t\tclass=\"editor-modal\"\n\t\t\t\trole=\"dialog\"\n\t\t\t\tonclick={(e) => e.stopPropagation()}>\n\t\t\t\t<div class=\"editor-header\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"title-input\"\n\t\t\t\t\t\tvalue={editing_note.title || \"\"}\n\t\t\t\t\t\toninput={(e) => update_note(editing_id, { title: e.target.value })}\n\t\t\t\t\t\tplaceholder=\"Title (optional)\" />\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"pin-btn\"\n\t\t\t\t\t\tclass:pinned={editing_note.pinned}\n\t\t\t\t\t\tonclick={() =>\n\t\t\t\t\t\t\tupdate_note(editing_id, { pinned: !editing_note.pinned })}\n\t\t\t\t\t\ttitle={editing_note.pinned ? \"Unpin\" : \"Pin\"}>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\ticon={editing_note.pinned ? \"lucide:pin-off\" : \"lucide:pin\"}\n\t\t\t\t\t\t\twidth={18} />\n\t\t\t\t\t</button>\n\t\t\t\t\t{@render iconButton(\n\t\t\t\t\t\t\"lucide:trash-2\",\n\t\t\t\t\t\t() => delete_note(editing_id),\n\t\t\t\t\t\t\"delete-btn\",\n\t\t\t\t\t)}\n\t\t\t\t\t{@render iconButton(\n\t\t\t\t\t\t\"lucide:x\",\n\t\t\t\t\t\t() => (editing_id = null),\n\t\t\t\t\t\t\"close-btn\",\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"editor-body\">{@render noteEditor(editing_note)}</div>\n\t\t\t\t<div class=\"editor-footer\">\n\t\t\t\t\t<span class=\"last-updated\"\n\t\t\t\t\t\t>Edited {format_relative_time(editing_note.updated)}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n\n\t<footer class=\"footer\">built with <a\n\t\t\thref=\"https://tinykit.studio\"\n\t\t\ttarget=\"_blank\">tinykit.studio</a></footer>\n</div>\n\n<style>\n  \n  .app {\n    min-height: 100vh;\n    min-height: 100dvh;\n    background: var(--page-background);\n    font-family: var(--body-font);\n    display: flex;\n    flex-direction: column;\n  }\n\t.header {\n\t\tpadding: 24px 24px 16px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 16px;\n\t\tflex-wrap: wrap;\n\t}\n\t.header h1 {\n\t\tfont-size: 24px;\n\t\tfont-weight: 700;\n\t\tcolor: var(--heading-color);\n\t\tmargin: 0;\n\t}\n\t.search-wrap {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8px;\n\t\tbackground: var(--card-background);\n\t\tborder: 1px solid var(--border-color);\n\t\tborder-radius: 8px;\n\t\tpadding: 8px 12px;\n\t\tflex: 1;\n\t\tmax-width: 300px;\n\t}\n\t.search-wrap input {\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tfont-size: 15px;\n\t\tcolor: var(--text-color);\n\t\twidth: 100%;\n\t}\n\t.search-wrap input:focus {\n\t\toutline: none;\n\t}\n\t.search-wrap input::placeholder {\n\t\tcolor: var(--muted-color);\n\t}\n\t.trash-btn {\n\t\tposition: relative;\n\t\twidth: 38px;\n\t\theight: 38px;\n\t\tborder: none;\n\t\tbackground: var(--card-background);\n\t\tborder: 1px solid var(--border-color);\n\t\tborder-radius: 8px;\n\t\tcursor: pointer;\n\t\tcolor: var(--muted-color);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: all 0.15s;\n\t}\n\t.trash-btn:hover {\n\t\tbackground: var(--hover-background);\n\t\tcolor: var(--text-color);\n\t}\n\t.trash-badge {\n\t\tposition: absolute;\n\t\ttop: -6px;\n\t\tright: -6px;\n\t\tmin-width: 18px;\n\t\theight: 18px;\n\t\tpadding: 0 5px;\n\t\tbackground: #ef4444;\n\t\tcolor: white;\n\t\tfont-size: 11px;\n\t\tfont-weight: 600;\n\t\tborder-radius: 9px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n  .main {\n    flex: 1;\n    padding: 0 24px 100px;\n  }\n\t.empty {\n\t\ttext-align: center;\n\t\tcolor: var(--muted-color);\n\t\tpadding: 48px 16px;\n\t}\n\t.masonry {\n\t\tcolumn-count: 4;\n\t\tcolumn-gap: 16px;\n\t}\n\t@media (max-width: 1200px) {\n\t\t.masonry {\n\t\t\tcolumn-count: 3;\n\t\t}\n\t}\n\t@media (max-width: 900px) {\n\t\t.masonry {\n\t\t\tcolumn-count: 2;\n\t\t}\n\t}\n\t@media (max-width: 600px) {\n\t\t.masonry {\n\t\t\tcolumn-count: 1;\n\t\t}\n\t}\n\t.card-wrapper {\n\t\tposition: relative;\n\t\tbreak-inside: avoid;\n\t\tmargin-bottom: 16px;\n\t}\n\t.card-wrapper.drag-over-before::before,\n\t.card-wrapper.drag-over-after::after {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\theight: 3px;\n\t\tbackground: var(--accent-color);\n\t\tborder-radius: 2px;\n\t\tz-index: 10;\n\t}\n\t.card-wrapper.drag-over-before::before {\n\t\ttop: -8px;\n\t}\n\t.card-wrapper.drag-over-after::after {\n\t\tbottom: -8px;\n\t}\n\t.card {\n\t\tbackground: var(--card-background);\n\t\tborder: 1px solid var(--border-color);\n\t\tborder-radius: 12px;\n\t\tpadding: 16px;\n\t\ttext-align: left;\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\ttransition:\n\t\t\tbox-shadow 0.15s,\n\t\t\ttransform 0.15s,\n\t\t\topacity 0.15s;\n\t\t/* box-sizing: border-box; */\n\t}\n\t.card.dragging {\n\t\topacity: 0.5;\n\t\ttransform: scale(0.98);\n\t\tbox-shadow: none;\n\t}\n\t.card-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tgap: 8px;\n\t}\n\t.card-title {\n\t\tfont-weight: 600;\n\t\tfont-size: 15px;\n\t\tcolor: var(--heading-color);\n\t\tflex: 1;\n\t\tword-break: break-word;\n\t}\n\t.card-actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 4px;\n\t\tflex-shrink: 0;\n\t}\n\t.pin-indicator {\n\t\tcolor: var(--accent-color);\n\t\tdisplay: flex;\n\t}\n\t.edit-card-btn {\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tcolor: var(--muted-color);\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\topacity: 0;\n\t\ttransition: opacity 0.2s;\n\t\tposition: absolute;\n\t\tright: 0.5rem;\n\t\tbackground: var(--card-background);\n\t\tborder-radius: 0.25rem;\n\t\tpadding: 0.5rem;\n\t\ttop: 0.5rem;\n\t}\n\t.edit-card-btn:hover {\n\t\tbackground: var(--hover-background);\n\t\tcolor: var(--text-color);\n\t}\n\t.card:hover .edit-card-btn {\n\t\topacity: 1;\n\t}\n\t.card-body {\n\t\tfont-size: 14px;\n\t\tcolor: var(--text-color);\n\t\tline-height: 1.5;\n\t}\n\t.text-preview {\n\t\toverflow: hidden;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 6;\n\t\t-webkit-box-orient: vertical;\n\t}\n\t.text-preview :global(b),\n\t.text-preview :global(strong) {\n\t\tfont-weight: 600;\n\t}\n\t.text-preview :global(i),\n\t.text-preview :global(em) {\n\t\tfont-style: italic;\n\t}\n\t/* Checklist now interactive */\n\t.checklist-preview .check-item-btn {\n\t\tdisplay: flex;\n\t\talign-items: flex-start;\n\t\tgap: 8px;\n\t\tpadding: 4px 0;\n\t\tcolor: var(--text-color);\n\t\tbackground: none;\n\t\tborder: none;\n\t\ttext-align: left;\n\t\tcursor: pointer;\n\t\twidth: 100%;\n\t\tfont-size: inherit;\n\t\tfont-family: inherit;\n\t}\n\t.checklist-preview .check-item-btn:hover {\n\t\tcolor: var(--heading-color);\n\t}\n\t.checklist-preview .check-item-btn.done {\n\t\tcolor: var(--muted-color);\n\t\ttext-decoration: line-through;\n\t}\n\t.checklist-preview .check-item-btn.done:hover {\n\t\tcolor: var(--muted-color);\n\t}\n\t.link-preview .link-img {\n\t\twidth: 100%;\n\t\theight: 120px;\n\t\tobject-fit: cover;\n\t\tborder-radius: 6px;\n\t\tmargin-bottom: 8px;\n\t}\n\t.link-preview .link-title {\n\t\tfont-weight: 500;\n\t\tcolor: var(--accent-color);\n\t\tword-break: break-all;\n\t\ttext-decoration: none;\n\t\tdisplay: block;\n\t}\n\t.link-preview .link-title:hover {\n\t\ttext-decoration: underline;\n\t}\n\t.link-preview .link-desc {\n\t\tfont-size: 13px;\n\t\tcolor: var(--muted-color);\n\t\tmargin-top: 4px;\n\t}\n\t.image-preview img {\n\t\twidth: 100%;\n\t\tborder-radius: 6px;\n\t}\n\t.image-preview .no-image {\n\t\theight: 80px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: var(--muted-color);\n\t\tbackground: var(--hover-background);\n\t\tborder-radius: 6px;\n\t}\n\t.image-preview .caption {\n\t\tfont-size: 13px;\n\t\tcolor: var(--muted-color);\n\t\tmargin-top: 8px;\n\t}\n\t.table-preview table {\n\t\twidth: 100%;\n\t\tfont-size: 12px;\n\t\tborder-collapse: collapse;\n\t}\n\t.table-preview td {\n\t\tpadding: 4px 8px;\n\t\tborder: 1px solid var(--border-color);\n\t\tmax-width: 80px;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\t/* Embed active styling */\n\t.embed-preview-active .embed-wrapper {\n\t\twidth: 100%;\n\t\tborder-radius: 8px;\n\t\toverflow: hidden;\n\t\tbackground: #000;\n\t}\n\t.embed-preview-active .embed-wrapper :global(iframe) {\n\t\twidth: 100%;\n\t\taspect-ratio: 16/9;\n\t\tborder: none;\n\t\tdisplay: block;\n\t}\n\t.no-embed {\n\t\theight: 80px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: var(--muted-color);\n\t\tbackground: var(--hover-background);\n\t\tborder-radius: 6px;\n\t}\n\t.more {\n\t\tfont-size: 12px;\n\t\tcolor: var(--muted-color);\n\t\tmargin-top: 4px;\n\t}\n\t.muted {\n\t\tcolor: var(--muted-color);\n\t}\n\t.fab {\n\t\tposition: fixed;\n\t\tbottom: 24px;\n\t\tright: 24px;\n\t\twidth: 56px;\n\t\theight: 56px;\n\t\tborder-radius: 16px;\n\t\tbackground: var(--accent-color);\n\t\tcolor: white;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n\t\ttransition: transform 0.15s;\n\t\tz-index: 50;\n\t}\n\t.fab:hover {\n\t\ttransform: scale(1.05);\n\t}\n\t.fab:active {\n\t\ttransform: scale(0.95);\n\t}\n\t.overlay {\n\t\tposition: fixed;\n\t\tinset: 0;\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: 100;\n\t\tpadding: 16px;\n\t}\n\t.picker {\n\t\tbackground: var(--card-background);\n\t\tborder-radius: 16px;\n\t\tpadding: 8px;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 1fr 1fr 1fr;\n\t\tgap: 4px;\n\t\tflex-wrap: wrap;\n\t\tmax-width: 360px;\n\t}\n\t.picker button {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 6px;\n\t\tpadding: 16px 20px;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tborder-radius: 12px;\n\t\tcursor: pointer;\n\t\tcolor: var(--text-color);\n\t\tfont-size: 13px;\n\t}\n\t.picker button:hover {\n\t\tbackground: var(--hover-background);\n\t}\n\t.trash-modal {\n\t\tbackground: var(--card-background);\n\t\tborder-radius: 16px;\n\t\twidth: 100%;\n\t\tmax-width: 480px;\n\t\tmax-height: 80vh;\n\t\tmax-height: 80dvh;\n\t\toverflow: hidden;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t.trash-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 16px;\n\t\tborder-bottom: 1px solid var(--border-color);\n\t}\n\t.trash-header h2 {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8px;\n\t\tmargin: 0;\n\t\tfont-size: 18px;\n\t\tfont-weight: 600;\n\t\tcolor: var(--heading-color);\n\t}\n\t.trash-body {\n\t\tflex: 1;\n\t\toverflow-y: auto;\n\t\tpadding: 8px;\n\t}\n\t.trash-empty {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 12px;\n\t\tpadding: 48px 16px;\n\t\tcolor: var(--muted-color);\n\t}\n\t.trash-empty p {\n\t\tmargin: 0;\n\t\tfont-size: 15px;\n\t}\n\t.trash-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 4px;\n\t}\n\t.trash-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12px;\n\t\tpadding: 12px;\n\t\tborder-radius: 8px;\n\t\ttransition: background 0.15s;\n\t}\n\t.trash-item:hover {\n\t\tbackground: var(--hover-background);\n\t}\n\t.trash-item-icon {\n\t\twidth: 36px;\n\t\theight: 36px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground: var(--hover-background);\n\t\tborder-radius: 8px;\n\t\tcolor: var(--muted-color);\n\t}\n\t.trash-item-info {\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\t.trash-item-title {\n\t\tfont-size: 14px;\n\t\tfont-weight: 500;\n\t\tcolor: var(--text-color);\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\t.trash-item-meta {\n\t\tfont-size: 12px;\n\t\tcolor: var(--muted-color);\n\t\tmargin-top: 2px;\n\t}\n\t.trash-item-actions {\n\t\tdisplay: flex;\n\t\tgap: 4px;\n\t}\n\t.restore-btn,\n\t.delete-forever-btn {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tborder-radius: 6px;\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: var(--muted-color);\n\t\ttransition: all 0.15s;\n\t}\n\t.restore-btn:hover {\n\t\tbackground: #dcfce7;\n\t\tcolor: #16a34a;\n\t}\n\t.delete-forever-btn:hover {\n\t\tbackground: #fef2f2;\n\t\tcolor: #dc2626;\n\t}\n\t.trash-footer {\n\t\tpadding: 12px 16px;\n\t\tborder-top: 1px solid var(--border-color);\n\t}\n\t.empty-trash-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 8px;\n\t\twidth: 100%;\n\t\tpadding: 10px 16px;\n\t\tborder: none;\n\t\tbackground: #fef2f2;\n\t\tcolor: #dc2626;\n\t\tborder-radius: 8px;\n\t\tfont-size: 14px;\n\t\tfont-weight: 500;\n\t\tcursor: pointer;\n\t\ttransition: background 0.15s;\n\t}\n\t.empty-trash-btn:hover {\n\t\tbackground: #fee2e2;\n\t}\n\t.editor-modal {\n\t\tbackground: var(--card-background);\n\t\tborder-radius: 16px;\n\t\twidth: 100%;\n\t\tmax-width: 600px;\n\t\tmax-height: 90vh;\n\t\tmax-height: 90dvh;\n\t\toverflow: hidden;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t.editor-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8px;\n\t\tpadding: 16px;\n\t\tborder-bottom: 1px solid var(--border-color);\n\t}\n\t.title-input {\n\t\tflex: 1;\n\t\tfont-size: 18px;\n\t\tfont-weight: 600;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tcolor: var(--heading-color);\n\t}\n\t.title-input:focus {\n\t\toutline: none;\n\t}\n\t.title-input::placeholder {\n\t\tcolor: var(--muted-color);\n\t}\n\t.delete-btn,\n\t.close-btn {\n\t\twidth: 36px;\n\t\theight: 36px;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tborder-radius: 8px;\n\t\tcursor: pointer;\n\t\tcolor: var(--muted-color);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t.delete-btn:hover {\n\t\tbackground: #fef2f2;\n\t\tcolor: #dc2626;\n\t}\n\t.close-btn:hover {\n\t\tbackground: var(--hover-background);\n\t}\n\t.pin-btn {\n\t\twidth: 36px;\n\t\theight: 36px;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tborder-radius: 8px;\n\t\tcursor: pointer;\n\t\tcolor: var(--muted-color);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t.pin-btn:hover {\n\t\tbackground: var(--hover-background);\n\t}\n\t.pin-btn.pinned {\n\t\tcolor: var(--accent-color);\n\t}\n\t.editor-body {\n\t\tflex: 1;\n\t\toverflow-y: auto;\n\t\tpadding: 16px;\n\t}\n\t.editor-footer {\n\t\tpadding: 12px 16px;\n\t\tborder-top: 1px solid var(--border-color);\n\t}\n\t.last-updated {\n\t\tfont-size: 12px;\n\t\tcolor: var(--muted-color);\n\t}\n\t.text-editor {\n\t\tmin-height: 200px;\n\t\tfont-size: 15px;\n\t\tline-height: 1.7;\n\t\tcolor: var(--text-color);\n\t\toutline: none;\n\t}\n\t.text-editor:empty::before {\n\t\tcontent: attr(data-placeholder);\n\t\tcolor: var(--muted-color);\n\t}\n\t.text-editor :global(b),\n\t.text-editor :global(strong) {\n\t\tfont-weight: 600;\n\t}\n\t.text-editor :global(i),\n\t.text-editor :global(em) {\n\t\tfont-style: italic;\n\t}\n\t.checklist-editor {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 4px;\n\t}\n\t.check-row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8px;\n\t}\n\t.check-toggle {\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tcursor: pointer;\n\t\tcolor: var(--accent-color);\n\t\tpadding: 4px;\n\t\tborder-radius: 4px;\n\t}\n\t.check-row input {\n\t\tflex: 1;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tfont-size: 15px;\n\t\tcolor: var(--text-color);\n\t\tpadding: 8px 0;\n\t}\n\t.check-row input:focus {\n\t\toutline: none;\n\t}\n\t.check-row input::placeholder {\n\t\tcolor: var(--muted-color);\n\t}\n\t.check-row input.done {\n\t\ttext-decoration: line-through;\n\t\tcolor: var(--muted-color);\n\t}\n\t.add-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8px;\n\t\tpadding: 8px;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tcolor: var(--muted-color);\n\t\tcursor: pointer;\n\t\tfont-size: 14px;\n\t\tborder-radius: 6px;\n\t}\n\t.add-item:hover {\n\t\tbackground: var(--hover-background);\n\t\tcolor: var(--text-color);\n\t}\n\t.link-editor {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12px;\n\t}\n\t.link-editor input,\n\t.link-editor textarea {\n\t\twidth: 100%;\n\t\tpadding: 12px;\n\t\tborder: 1px solid var(--border-color);\n\t\tborder-radius: 8px;\n\t\tfont-size: 15px;\n\t\tbackground: var(--input-background);\n\t\tcolor: var(--text-color);\n\t\tbox-sizing: border-box;\n\t}\n\t.link-editor input:focus,\n\t.link-editor textarea:focus {\n\t\toutline: none;\n\t\tborder-color: var(--accent-color);\n\t}\n\t.link-editor textarea {\n\t\tresize: vertical;\n\t\tfont-family: inherit;\n\t}\n\t.image-editor {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12px;\n\t}\n\t.image-editor .preview {\n\t\tmax-width: 100%;\n\t\tborder-radius: 8px;\n\t}\n\t.upload-area {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 8px;\n\t\tpadding: 32px;\n\t\tborder: 2px dashed var(--border-color);\n\t\tborder-radius: 8px;\n\t\tcursor: pointer;\n\t\tcolor: var(--muted-color);\n\t}\n\t.upload-area:hover {\n\t\tborder-color: var(--accent-color);\n\t\tbackground: var(--hover-background);\n\t}\n\t.image-editor .or {\n\t\ttext-align: center;\n\t\tcolor: var(--muted-color);\n\t\tfont-size: 13px;\n\t}\n\t.image-editor input {\n\t\twidth: 100%;\n\t\tpadding: 12px;\n\t\tborder: 1px solid var(--border-color);\n\t\tborder-radius: 8px;\n\t\tfont-size: 15px;\n\t\tbackground: var(--input-background);\n\t\tcolor: var(--text-color);\n\t\tbox-sizing: border-box;\n\t}\n\t.image-editor input:focus {\n\t\toutline: none;\n\t\tborder-color: var(--accent-color);\n\t}\n\t.remove-img {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 4px;\n\t\tpadding: 8px 12px;\n\t\tborder: none;\n\t\tbackground: #fef2f2;\n\t\tcolor: #dc2626;\n\t\tborder-radius: 6px;\n\t\tcursor: pointer;\n\t\tfont-size: 14px;\n\t\talign-self: flex-start;\n\t}\n\t.table-editor {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12px;\n\t}\n\t.table-scroll {\n\t\toverflow-x: auto;\n\t}\n\t.table-editor table {\n\t\tborder-collapse: collapse;\n\t\tmin-width: 100%;\n\t}\n\t.table-editor td {\n\t\tpadding: 0;\n\t\tborder: 1px solid var(--border-color);\n\t}\n\t.table-editor td input {\n\t\twidth: 100%;\n\t\tmin-width: 80px;\n\t\tpadding: 10px;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tfont-size: 14px;\n\t\tcolor: var(--text-color);\n\t\tbox-sizing: border-box;\n\t}\n\t.table-editor td input:focus {\n\t\toutline: none;\n\t\tbackground: var(--hover-background);\n\t}\n\t.table-editor .row-action {\n\t\tborder: none;\n\t\tpadding: 0 4px;\n\t}\n\t.table-editor .row-action button {\n\t\tpadding: 4px;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\tcolor: var(--muted-color);\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t}\n\t.table-editor .row-action button:hover {\n\t\tbackground: #fef2f2;\n\t\tcolor: #dc2626;\n\t}\n\t.table-actions {\n\t\tdisplay: flex;\n\t\tgap: 8px;\n\t}\n\t.table-actions button {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 4px;\n\t\tpadding: 8px 12px;\n\t\tborder: 1px solid var(--border-color);\n\t\tbackground: transparent;\n\t\tborder-radius: 6px;\n\t\tcursor: pointer;\n\t\tfont-size: 13px;\n\t\tcolor: var(--text-color);\n\t}\n\t.table-actions button:hover {\n\t\tbackground: var(--hover-background);\n\t}\n\t.embed-editor {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12px;\n\t}\n\t.embed-editor textarea {\n\t\twidth: 100%;\n\t\tpadding: 12px;\n\t\tborder: 1px solid var(--border-color);\n\t\tborder-radius: 8px;\n\t\tfont-size: 14px;\n\t\tfont-family: monospace;\n\t\tbackground: var(--input-background);\n\t\tcolor: var(--text-color);\n\t\tbox-sizing: border-box;\n\t\tresize: vertical;\n\t}\n\t.embed-editor textarea:focus {\n\t\toutline: none;\n\t\tborder-color: var(--accent-color);\n\t}\n\t.embed-preview-frame {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tborder-radius: 8px;\n\t\toverflow: hidden;\n\t}\n\t.embed-preview-frame :global(iframe) {\n\t\twidth: 100%;\n\t\taspect-ratio: 16/9;\n\t\tborder: none;\n\t}\n\t.embed-placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 12px;\n\t\tpadding: 40px 20px;\n\t\tbackground: var(--hover-background);\n\t\tborder-radius: 8px;\n\t\tcolor: var(--muted-color);\n\t\ttext-align: center;\n\t}\n\t.embed-placeholder p {\n\t\tmargin: 0;\n\t\tfont-size: 13px;\n\t\tmax-width: 280px;\n\t\tline-height: 1.5;\n\t}\n\t@media (max-width: 600px) {\n\t\t.header {\n\t\t\tpadding: 16px;\n\t\t\tpadding-top: max(16px, env(safe-area-inset-top));\n\t\t}\n\t\t.header h1 {\n\t\t\tfont-size: 20px;\n\t\t}\n\t\t.search-wrap {\n\t\t\tflex: 1 1 100%;\n\t\t\tmax-width: none;\n\t\t\torder: 3;\n\t\t}\n\t\t.trash-btn {\n\t\t\tmargin-left: auto;\n\t\t}\n  /* @media (max-width: 600px) */\n.main {\n    padding: 0 16px 100px;\n  }\n\t\t.fab {\n\t\t\tbottom: max(24px, env(safe-area-inset-bottom));\n\t\t\tright: 16px;\n\t\t}\n\t\t.picker {\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: center;\n\t\t\tmax-width: 280px;\n\t\t}\n\t\t.picker button {\n\t\t\tflex: 0 0 calc(33% - 4px);\n\t\t\tpadding: 12px 8px;\n\t\t}\n\t}\n\t.footer {\n\t\tpadding-top: 8px;\n\t\tpadding-bottom: max(8px, env(safe-area-inset-bottom));\n\t\tfont-size: 11px;\n\t\tcolor: var(--muted-color);\n\t\ttext-align: center;\n\t\tbackground: var(--page-background);\n\t}\n\t.footer a {\n\t\tcolor: inherit;\n\t}\n</style>\n",
	"design": [
		{
			"css_var": "--body-font",
			"description": "Main font",
			"id": "body-font",
			"name": "Body Font",
			"type": "font",
			"value": "Inter"
		},
		{
			"css_var": "--page-background",
			"description": "Page background",
			"id": "page-background",
			"name": "Page Background",
			"type": "color",
			"value": "#f5f5f5"
		},
		{
			"css_var": "--card-background",
			"description": "Card background",
			"id": "card-background",
			"name": "Card Background",
			"type": "color",
			"value": "#ffffff"
		},
		{
			"css_var": "--border-color",
			"description": "Borders",
			"id": "border-color",
			"name": "Border Color",
			"type": "color",
			"value": "#e5e5e5"
		},
		{
			"css_var": "--heading-color",
			"description": "Headings",
			"id": "heading-color",
			"name": "Heading Color",
			"type": "color",
			"value": "#1a1a1a"
		},
		{
			"css_var": "--text-color",
			"description": "Body text",
			"id": "text-color",
			"name": "Text Color",
			"type": "color",
			"value": "#333333"
		},
		{
			"css_var": "--muted-color",
			"description": "Secondary text",
			"id": "muted-color",
			"name": "Muted Color",
			"type": "color",
			"value": "#888888"
		},
		{
			"css_var": "--accent-color",
			"description": "Accent/links",
			"id": "accent-color",
			"name": "Accent Color",
			"type": "color",
			"value": "#0066ff"
		},
		{
			"css_var": "--hover-background",
			"description": "Hover states",
			"id": "hover-background",
			"name": "Hover Background",
			"type": "color",
			"value": "#f0f0f0"
		},
		{
			"css_var": "--input-background",
			"description": "Input fields",
			"id": "input-background",
			"name": "Input Background",
			"type": "color",
			"value": "#fafafa"
		}
	],
	"content": [
		{
			"description": "Header title",
			"id": "app_title",
			"name": "App Title",
			"type": "text",
			"value": "Canvas"
		},
		{
			"description": "Search input placeholder",
			"id": "search_placeholder",
			"name": "Search Placeholder",
			"type": "text",
			"value": "Search..."
		},
		{
			"description": "Loading message",
			"id": "loading",
			"name": "Loading",
			"type": "text",
			"value": "Loading..."
		},
		{
			"description": "Empty state message",
			"id": "empty",
			"name": "Empty State",
			"type": "text",
			"value": "No notes yet. Tap + to create one."
		},
		{
			"description": "No search results",
			"id": "no_results",
			"name": "No Results",
			"type": "text",
			"value": "No notes found"
		}
	],
	"data": {
		"notes": {
			"schema": [
				{
					"name": "id",
					"type": "text"
				},
				{
					"name": "type",
					"type": "text"
				},
				{
					"name": "title",
					"type": "text"
				},
				{
					"name": "order",
					"type": "number"
				},
				{
					"name": "pinned",
					"type": "boolean"
				},
				{
					"name": "updated",
					"type": "text"
				},
				{
					"name": "created",
					"type": "text"
				},
				{
					"name": "body",
					"type": "text"
				},
				{
					"name": "items",
					"type": "text"
				},
				{
					"name": "url",
					"type": "text"
				},
				{
					"name": "link_title",
					"type": "text"
				},
				{
					"name": "link_desc",
					"type": "text"
				},
				{
					"name": "link_image",
					"type": "text"
				},
				{
					"name": "src",
					"type": "text"
				},
				{
					"name": "caption",
					"type": "text"
				},
				{
					"name": "rows",
					"type": "text"
				},
				{
					"name": "embed_code",
					"type": "text"
				}
			],
			"records": [
				{
					"created": "2025-12-09T06:13:16.961Z",
					"id": "90qxs",
					"link_desc": "tinykit is an open-source agentic app builder. Think Lovable, Replit, or v0, but self-hostable, self-contained, and single-file. Build, tweak, and deploy all your tiny web apps on a single server controlled by you.",
					"link_image": "https://placehold.co/1200x630/7c3aed/ffffff?text=tinykit",
					"link_title": "tinykit \u2013 build tiny apps with AI",
					"order": "0",
					"title": "",
					"type": "link",
					"updated": "2025-12-09T06:45:07.876Z",
					"url": "https://tinykit.studio/"
				},
				{
					"body": "This is your own personal tiny <b>Notion</b>&nbsp;- organize notes, images, links, tables, and embeds.",
					"created": "2025-12-09T06:13:22.292Z",
					"id": "73mo4",
					"order": 1,
					"title": "Welcome!",
					"type": "text",
					"updated": "2025-12-09T06:54:03.813Z"
				},
				{
					"created": "2025-12-09T06:13:40.365Z",
					"id": "lrj6k",
					"link_desc": "Open Source backend in 1 file with realtime database, authentication, file storage and admin dashboard",
					"link_image": "https://placehold.co/1200x630/16161d/ffffff?text=PocketBase",
					"link_title": "PocketBase - Open Source backend in 1 file",
					"order": 2,
					"pinned": false,
					"title": "",
					"type": "link",
					"updated": "2025-12-09T06:54:19.446Z",
					"url": "https://pocketbase.io/"
				},
				{
					"created": "2025-12-09T06:14:15.506Z",
					"id": "d5b7v",
					"order": 3,
					"src": "https://placehold.co/600x400/22c55e/ffffff?text=Image",
					"title": "",
					"type": "image",
					"updated": "2025-12-09T06:53:06.468Z"
				},
				{
					"created": "2025-12-09T06:14:33.197Z",
					"id": "2qua0",
					"order": 4,
					"src": "https://placehold.co/600x400/3b82f6/ffffff?text=Image",
					"title": "",
					"type": "image",
					"updated": "2025-12-09T06:53:17.054Z"
				},
				{
					"created": "2025-12-09T06:23:07.066Z",
					"id": "0p3vk",
					"items": "[{\"id\":\"1765261386991\",\"text\":\"Eat\",\"done\":true},{\"id\":\"1765261414822\",\"text\":\"Pray\",\"done\":true},{\"id\":\"1765261437087\",\"text\":\"Love\",\"done\":true},{\"id\":\"1765261440220\",\"text\":\"Do the dishes\",\"done\":false},{\"id\":\"1765261474168\",\"text\":\"Take out the trash\",\"done\":false},{\"id\":\"1765261481807\",\"text\":\"Laundry\",\"done\":false}]",
					"order": 5,
					"title": "Todo",
					"type": "checklist",
					"updated": "2025-12-09T06:54:00.979Z"
				},
				{
					"created": "2025-12-09T06:42:26.010Z",
					"id": "2im21",
					"order": 6,
					"rows": "[[\"__Thing__\",\"__Strength__\"],[\"Coding\",\"Pretty good\"],[\"Writing\",\"Not bad\"],[\"Backrubs\",\"Horrible\"]]",
					"title": "Things AI is good at",
					"type": "table",
					"updated": "2025-12-09T06:54:05.140Z"
				}
			],
			"icon": "lucide:file-text"
		},
		"deleted_notes": {
			"schema": [
				{
					"name": "id",
					"type": "text"
				},
				{
					"name": "type",
					"type": "text"
				},
				{
					"name": "title",
					"type": "text"
				},
				{
					"name": "order",
					"type": "number"
				},
				{
					"name": "pinned",
					"type": "boolean"
				},
				{
					"name": "updated",
					"type": "text"
				},
				{
					"name": "created",
					"type": "text"
				},
				{
					"name": "body",
					"type": "text"
				},
				{
					"name": "items",
					"type": "text"
				},
				{
					"name": "url",
					"type": "text"
				},
				{
					"name": "link_title",
					"type": "text"
				},
				{
					"name": "link_desc",
					"type": "text"
				},
				{
					"name": "link_image",
					"type": "text"
				},
				{
					"name": "src",
					"type": "text"
				},
				{
					"name": "caption",
					"type": "text"
				},
				{
					"name": "rows",
					"type": "text"
				},
				{
					"name": "embed_code",
					"type": "text"
				},
				{
					"name": "deleted_at",
					"type": "text"
				}
			],
			"records": [
				{
					"created": "2025-12-09T06:17:23.062Z",
					"deleted_at": "2025-12-09T06:17:23.005Z",
					"id": "p4036",
					"link_desc": "React is the library for web and native user interfaces. Build user interfaces out of individual pieces called components written in JavaScript. React is designed to let you seamlessly combine components written by independent people, teams, and organizations.",
					"link_image": "https://placehold.co/1200x630/61dafb/000000?text=React",
					"link_title": "React",
					"order": 5,
					"title": "React",
					"type": "link",
					"updated": "2025-12-09T06:17:23.062Z",
					"url": "https://react.dev/"
				},
				{
					"created": "2025-12-09T06:22:04.358Z",
					"deleted_at": "2025-12-09T06:22:04.330Z",
					"embed_code": "<iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/dQw4w9WgXcQ?si=-W7e2C0UJdhU31fn&amp;controls=0&amp;autoplay=1\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe>",
					"id": "9okp0",
					"order": 5,
					"title": "Super Secret - DO NOT CLICK",
					"type": "embed",
					"updated": "2025-12-09T06:22:04.358Z"
				}
			],
			"icon": "lucide:trash-2"
		}
	}
}
